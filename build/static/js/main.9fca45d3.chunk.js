/*!

=========================================================
* Paper Dashboard React - v1.3.0
=========================================================

* Product Page: https://www.creative-tim.com/product/paper-dashboard-react
* Copyright 2021 Creative Tim (http://www.creative-tim.com)

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

*/
/*! For license information please see main.9fca45d3.chunk.js.LICENSE.txt */
(this["webpackJsonppaper-dashboard-react"]=this["webpackJsonppaper-dashboard-react"]||[]).push([[0],{249:function(e,t){e.exports={dashboard24HoursPerformanceChart:{data:function(e){return{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct"],datasets:[{borderColor:"#6bd098",backgroundColor:"#6bd098",pointRadius:0,pointHoverRadius:0,borderWidth:3,tension:.4,fill:!0,data:[300,310,316,322,330,326,333,345,338,354]},{borderColor:"#f17e5d",backgroundColor:"#f17e5d",pointRadius:0,pointHoverRadius:0,borderWidth:3,tension:.4,fill:!0,data:[320,340,365,360,370,385,390,384,408,420]},{borderColor:"#fcc468",backgroundColor:"#fcc468",pointRadius:0,pointHoverRadius:0,borderWidth:3,tension:.4,fill:!0,data:[370,394,415,409,425,445,460,450,478,484]}]}},options:{plugins:{legend:{display:!1},tooltip:{enabled:!1}},scales:{y:{ticks:{color:"#9f9f9f",beginAtZero:!1,maxTicksLimit:5},grid:{drawBorder:!1,display:!1}},x:{barPercentage:1.6,grid:{drawBorder:!1,display:!1},ticks:{padding:20,color:"#9f9f9f"}}}}},dashboardEmailStatisticsChart:{data:function(e){return{labels:[1,2,3],datasets:[{label:"Emails",pointRadius:0,pointHoverRadius:0,backgroundColor:["#e3e3e3","#4acccd","#fcc468","#ef8157"],borderWidth:0,data:[342,480,530,120]}]}},options:{plugins:{legend:{display:!1},tooltip:{enabled:!1}},maintainAspectRatio:!1,pieceLabel:{render:"percentage",fontColor:["white"],precision:2},scales:{y:{ticks:{display:!1},grid:{drawBorder:!1,display:!1}},x:{barPercentage:1.6,grid:{drawBorder:!1,display:!1},ticks:{display:!1}}}}},dashboardNASDAQChart:{data:function(e){return{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{data:[0,19,15,20,30,40,40,50,25,30,50,70],fill:!1,borderColor:"#fbc658",backgroundColor:"transparent",pointBorderColor:"#fbc658",pointRadius:4,pointHoverRadius:4,pointBorderWidth:8,tension:.4},{data:[0,5,10,12,20,27,30,34,42,45,55,63],fill:!1,borderColor:"#51CACF",backgroundColor:"transparent",pointBorderColor:"#51CACF",pointRadius:4,pointHoverRadius:4,pointBorderWidth:8,tension:.4}]}},options:{plugins:{legend:{display:!1}}}}}},278:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/damir-bosnjak.efcaca50.jpg"},279:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/mike.d34d0690.jpg"},280:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/ayo-ogunseinde-2.f4af8f2c.jpg"},281:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/joe-gardner-2.09841708.jpg"},282:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/clem-onojeghuo-2.d16702ce.jpg"},286:function(e,t,a){},287:function(e,t,a){},290:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),c=a(25),s=a.n(c),o=a(23),i=a(35),l=a(15),d=a(11),u=a(53),j=a(113),b=a(112),p=a(114),h=a(17),m=a(13),O=a.n(m),f=a(16),x=(a(289),a(103)),g=a(104),v=a(105),w=a(106),S=a(107),y=a(108),C=a(109),N=a(110),k=a(292),A=(a(249),a(55)),F=(a(250),a(1));function T(){return I.apply(this,arguments)}function I(){return(I=Object(f.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("http://ec2-54-77-11-148.eu-west-1.compute.amazonaws.com:5100/v1/covid/centres",{method:"GET",headers:{"Content-Type":"application/json","x-access-tokens":JSON.parse(localStorage.getItem("token"))}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var J=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(),s=Object(d.a)(c,2),o=s[0],i=s[1],l=Object(n.useState)("password"),u=Object(d.a)(l,2),j=u[0];return u[1],Object(n.useEffect)(Object(f.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:"error"in(t=e.sent)&&"Signature has expired"==t.error&&(localStorage.clear(),window.location.pathname="login"),console.log(t),r(t.results),i(new Date),console.log(a);case 8:case"end":return e.stop()}}),e)}))),[]),Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"content",children:[Object(F.jsxs)(x.a,{children:[Object(F.jsx)(g.a,{lg:"6",md:"6",sm:"6",children:Object(F.jsxs)(v.a,{className:"card-stats",children:[Object(F.jsx)(w.a,{children:Object(F.jsxs)(x.a,{children:[Object(F.jsx)(g.a,{md:"4",xs:"5",children:Object(F.jsx)("div",{className:"icon-big text-center icon-warning",children:Object(F.jsx)(A.a,{color:"black"})})}),Object(F.jsx)(g.a,{md:"8",xs:"7",children:Object(F.jsxs)("div",{className:"numbers",children:[Object(F.jsx)("p",{className:"card-category",children:"Available Beds"}),Object(F.jsx)(S.a,{tag:"p",children:a.map((function(e){return"not updated"!=e.beds?e.beds:0})).reduce((function(e,t){return e+t}),0)}),Object(F.jsx)("p",{})]})})]})}),Object(F.jsxs)(y.a,{children:[Object(F.jsx)("hr",{}),Object(F.jsxs)("div",{className:"stats",children:[Object(F.jsx)("i",{className:"fas fa-sync-alt"})," Updated ",o?o.toTimeString():""]})]})]})}),Object(F.jsx)(g.a,{lg:"6",md:"6",sm:"6",children:Object(F.jsxs)(v.a,{className:"card-stats",children:[Object(F.jsx)(w.a,{children:Object(F.jsxs)(x.a,{children:[Object(F.jsx)(g.a,{md:"4",xs:"5",children:Object(F.jsx)("div",{className:"icon-big text-center icon-warning",children:Object(F.jsx)(A.b,{})})}),Object(F.jsx)(g.a,{md:"8",xs:"7",children:Object(F.jsxs)("div",{className:"numbers",children:[Object(F.jsx)("p",{className:"card-category",children:"Covid Centres"}),Object(F.jsx)(S.a,{tag:"p",children:a.length}),Object(F.jsx)("p",{})]})})]})}),Object(F.jsxs)(y.a,{children:[Object(F.jsx)("hr",{}),Object(F.jsxs)("div",{className:"stats",children:[Object(F.jsx)("i",{className:"far fa-calendar"})," Updated ",o?o.toTimeString():""]})]})]})})]}),Object(F.jsx)(x.a,{children:Object(F.jsx)(g.a,{md:"12",children:Object(F.jsxs)(v.a,{children:[Object(F.jsxs)(C.a,{children:[Object(F.jsx)(S.a,{tag:"h4",children:"Available Beds in Covid Centres"}),Object(F.jsx)("p",{className:"card-category",children:"This table shows the latest available bed count in each covid centre in Sri Lanka"})]}),Object(F.jsx)(w.a,{children:Object(F.jsxs)(N.a,{responsive:!0,children:[Object(F.jsx)("thead",{className:"text-primary",children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:"Name"}),Object(F.jsx)("th",{children:"Location"}),Object(F.jsx)("th",{children:"Available Beds"}),Object(F.jsx)("th",{children:"Updated at"}),Object(F.jsx)("th",{children:"Notes"}),Object(F.jsx)("th",{children:"username"}),Object(F.jsx)("th",{children:"password"})]})}),Object(F.jsx)("tbody",{children:a.map((function(e){var t;return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:e.name}),Object(F.jsxs)("td",{children:[e.location," - ",e.province]}),Object(F.jsx)("td",{children:e.beds}),Object(F.jsx)("td",{children:e.updated?Object(k.a)(new Date(e.updated),new Date,{addSuffix:!0}):""}),Object(F.jsx)("td",{children:e.desc}),Object(F.jsx)("td",{children:e.username}),Object(F.jsxs)("td",{children:[Object(F.jsx)("input",(t={type:j,id:e.username},Object(h.a)(t,"type","password"),Object(h.a)(t,"value",e.password),t)),Object(F.jsx)("button",{children:Object(F.jsx)("span",{onClick:function(){var t=document.getElementById(e.username);"password"==t.type?t.type="text":t.type="password"},toggle:"#password-field",class:"fa fa-fw fa-eye field-icon toggle-password"})})]})]},e.username)}))})]})})]})})})]})})},E=(a(111),a(52),a(28)),B=a.n(E);function D(e){return R.apply(this,arguments)}function R(){return(R=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.abrupt("return",fetch("http://ec2-54-77-11-148.eu-west-1.compute.amazonaws.com:5100/v1/covid/centre",{method:"POST",headers:{"Content-Type":"application/json","x-access-tokens":JSON.parse(localStorage.getItem("token"))},body:JSON.stringify({name:t.name,district:t.district,province:t.province,contact:t.contact,username:t.username,password:t.password})}).then((function(e){return e.json()})).catch((function(e){return notify("bc",String(e),3)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=function(){var e=r.a.useRef(),t=function(t,a,n){var r;switch(n){case 1:r="primary";break;case 2:r="success";break;case 3:r="danger";break;case 4:r="warning";break;case 5:r="info"}var c;c={place:t,message:Object(F.jsx)("div",{children:Object(F.jsx)("div",{children:a})}),type:r,icon:"nc-icon nc-bell-55",autoDismiss:7},e.current.notificationAlert(c)},a=Object(n.useState)(),c=Object(d.a)(a,2),s=c[0],o=c[1],i=Object(n.useState)("Northern"),l=Object(d.a)(i,2),u=l[0],j=l[1],b=Object(n.useState)(),p=Object(d.a)(b,2),h=p[0],m=p[1],y=Object(n.useState)(""),N=Object(d.a)(y,2),k=N[0],A=N[1],T=Object(n.useState)(),I=Object(d.a)(T,2),J=I[0],E=I[1],R=Object(n.useState)(),U=Object(d.a)(R,2),L=U[0],P=U[1],W=function(){var e=Object(f.a)(O.a.mark((function e(a){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),console.log(J,u),s&&h&&u&&J&&L){e.next=5;break}return t("bc","Empty Fields are not allowed (except contact)",3),e.abrupt("return");case 5:return e.next=7,D({name:s,province:u,district:h,contact:k,username:J,password:L});case 7:"error"in(n=e.sent)&&"Signature has expired"==n.error&&(localStorage.clear(),window.location.pathname="login"),"error"in n?t("bc",n.error,3):(o(""),A(0),E(""),P(""),t("bc",n.message,2));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"content",children:[Object(F.jsx)(B.a,{ref:e}),Object(F.jsx)(x.a,{children:Object(F.jsx)(g.a,{md:"12",children:Object(F.jsxs)(v.a,{className:"demo-icons",children:[Object(F.jsx)(C.a,{children:Object(F.jsx)(S.a,{tag:"h5",children:"New Covid Centre"})}),Object(F.jsx)(w.a,{className:"all-icons",children:Object(F.jsx)("div",{class:"row",children:Object(F.jsxs)("div",{class:"col-md-12",children:[Object(F.jsxs)("div",{class:"form-group",children:[Object(F.jsxs)("label",{for:"exampleForm.ControlInput1",class:"form-label",children:["Name",Object(F.jsx)("b",{children:"*"})]}),Object(F.jsx)("input",{value:s,onChange:function(e){return o(e.target.value)},placeholder:"Name of the Covid centre",type:"text",id:"exampleForm.ControlInput1",class:"form-control"})]}),Object(F.jsxs)("div",{class:"form-group",children:[Object(F.jsxs)("label",{for:"exampleForm.ControlSelect1",class:"form-label",children:["Select Province",Object(F.jsx)("b",{children:"*"})]}),Object(F.jsxs)("select",{value:u,onChange:function(e){return j(e.target.value)},id:"exampleForm.ControlSelect1",class:"form-control",children:[Object(F.jsx)("option",{children:"Northern"}),Object(F.jsx)("option",{children:"North Western"}),Object(F.jsx)("option",{children:"Western"}),Object(F.jsx)("option",{children:"North Central"}),Object(F.jsx)("option",{children:"Central"}),Object(F.jsx)("option",{children:"Sabaragamuwa"}),Object(F.jsx)("option",{children:"Eastern"}),Object(F.jsx)("option",{children:"Uva"}),Object(F.jsx)("option",{children:"Southern"})]})]}),Object(F.jsxs)("div",{class:"form-group",children:[Object(F.jsxs)("label",{for:"exampleForm.ControlSelect1",class:"form-label",children:["Select District",Object(F.jsx)("b",{children:"*"})]}),Object(F.jsx)("select",{value:h,onChange:function(e){return m(e.target.value)},id:"exampleForm.ControlSelect1",class:"form-control",children:u?{Western:["Gampaha","Colombo","Kaluthara"],Northern:["Jaffna","Kilinochchi","Mannar","Mulativ","Vavuniya"],"North Western":["Puttalam","Kurunegala"],"North Central":["Anuradhapura","Polonnaruwa"],Central:["Matale","Kandy","Nuwara Eliya"],Sabaragamuwa:["Kegalle","Ratnapura"],Eastern:["Trincomalee","Batticaloa","Ampara"],Uva:["Badulla","Monaragala"],Southern:["Galle","Matara","Hambanthota"]}[u].map((function(e){return Object(F.jsx)("option",{children:e})})):["Gampaha","Colombo","Kaluthara","Jaffna","Kilinochchi","Mannar","Mulativ","Vavuniya","Puttalam","Kurunegala","Anuradhapura","Polonnaruwa","Matale","Kandy","Nuwara Eliya","Kegalle","Ratnapura","Trincomalee","Batticaloa","Ampara","Badulla","Monaragala","Galle","Matara","Hambanthota"].map((function(e){return Object(F.jsx)("option",{children:e})}))})]}),Object(F.jsxs)("div",{class:"form-group",children:[Object(F.jsx)("label",{for:"exampleForm.ControlInput1",class:"form-label",children:"Contact Number"}),Object(F.jsx)("input",{value:k,onChange:function(e){return A(e.target.value)},placeholder:"Contact Number for the covid centre",type:"text",id:"exampleForm.ControlInput1",class:"form-control"})]}),Object(F.jsxs)("div",{class:"form-group",children:[Object(F.jsxs)("label",{for:"exampleForm.ControlInput1",class:"form-label",children:["Username",Object(F.jsx)("b",{children:"*"})]}),Object(F.jsx)("input",{value:J,onChange:function(e){return E(e.target.value)},placeholder:"Username for the covid centre",type:"text",id:"exampleForm.ControlInput1",class:"form-control"})]}),Object(F.jsxs)("div",{class:"form-group",children:[Object(F.jsxs)("label",{for:"exampleForm.ControlInput1",class:"form-label",children:["Password",Object(F.jsx)("b",{children:"*"})]}),Object(F.jsx)("input",{value:L,onChange:function(e){return P(e.target.value)},placeholder:"password for the covid centre",type:"text",id:"exampleForm.ControlInput1",class:"form-control"})]}),Object(F.jsx)("div",{class:"form-group",children:Object(F.jsx)("button",{onClick:W,type:"button",class:"btn btn-primary",children:"Submit"})})]})})})]})})})]})})},L=a(291);var P=function(){var e=r.a.useRef(),t=function(t,a,n){var r;switch(n){case 1:r="primary";break;case 2:r="success";break;case 3:r="danger";break;case 4:r="warning";break;case 5:r="info"}var c;c={place:t,message:Object(F.jsx)("div",{children:Object(F.jsx)("div",{children:a})}),type:r,icon:"nc-icon nc-bell-55",autoDismiss:7},e.current.notificationAlert(c)};function a(e){return c.apply(this,arguments)}function c(){return(c=Object(f.a)(O.a.mark((function e(a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),e.abrupt("return",fetch("http://ec2-54-77-11-148.eu-west-1.compute.amazonaws.com:5100/v1/covid/centre/bed",{method:"POST",headers:{"Content-Type":"application/json","x-access-tokens":JSON.parse(localStorage.getItem("token"))},body:JSON.stringify({beds:Number(a.beds),time:(new Date).getTime(),desc:a.note,username:JSON.parse(localStorage.getItem("data")).username})}).then((function(e){return e.json()})).catch((function(e){return t("bc",String(e),3)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return o.apply(this,arguments)}function o(){return(o=Object(f.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("http://ec2-54-77-11-148.eu-west-1.compute.amazonaws.com:5100/v1/covid/centre/beds",{method:"GET",headers:{"Content-Type":"application/json","x-access-tokens":JSON.parse(localStorage.getItem("token"))}}).then((function(e){return e.json()})).catch((function(e){return t("bc",String(e),3)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var i=Object(n.useState)(""),l=Object(d.a)(i,2),u=l[0],j=l[1],b=Object(n.useState)(""),p=Object(d.a)(b,2),h=p[0],m=p[1],y=Object(n.useState)(),k=Object(d.a)(y,2),A=k[0],T=k[1],I=Object(n.useState)(""),J=Object(d.a)(I,2),E=J[0],D=J[1],R=Object(n.useState)([]),U=Object(d.a)(R,2),P=U[0],W=U[1],M=function(){var e=Object(f.a)(O.a.mark((function e(n){var r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,a({beds:A,note:E});case 3:return"error"in(r=e.sent)&&"Signature has expired"==r.error&&(localStorage.clear(),window.location.pathname="login"),"error"in r?t("bc",r.error,3):t("bc",r.results,2),e.next=8,s();case 8:"error"in(c=e.sent)&&"Signature has expired"==c.error&&(localStorage.clear(),window.location.pathname="login"),W(c.results.reverse()),T(0),D("");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)(Object(f.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:"error"in(t=e.sent)&&"Signature has expired"==t.error&&(localStorage.clear(),window.location.pathname="login"),W(t.results.reverse()),P.length,a=JSON.parse(localStorage.getItem("data")),j(a.location+" - "+a.province),m(a.name);case 9:case"end":return e.stop()}}),e)}))),[]),Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"content",children:[Object(F.jsx)(B.a,{ref:e}),Object(F.jsx)(x.a,{children:Object(F.jsx)(g.a,{md:"12",children:Object(F.jsxs)(v.a,{className:"demo-icons",children:[Object(F.jsx)(C.a,{children:Object(F.jsxs)(S.a,{tag:"h5",children:["Update available beds for ",h," in ",u]})}),Object(F.jsx)(w.a,{className:"all-icons",children:Object(F.jsx)("div",{class:"row",children:Object(F.jsxs)("div",{class:"col-md-12",children:[Object(F.jsxs)("div",{class:"form-group",children:[Object(F.jsx)("label",{for:"exampleForm.ControlSelect1",class:"form-label",children:"Select Covid Centre"}),Object(F.jsx)("select",{id:"exampleForm.ControlSelect1",class:"form-control",children:Object(F.jsx)("option",{children:h})})]}),Object(F.jsxs)("div",{class:"form-group",children:[Object(F.jsx)("label",{for:"exampleForm.ControlInput1",class:"form-label",children:"Available Beds"}),Object(F.jsx)("input",{value:A,onChange:function(e){return T(e.target.value)},placeholder:"Number of beds available",type:"number",id:"exampleForm.ControlInput1",class:"form-control"})]}),Object(F.jsxs)("div",{class:"form-group",children:[Object(F.jsx)("label",{for:"exampleForm.ControlTextarea1",class:"form-label",children:"Additional Note"}),Object(F.jsx)("textarea",{value:E,onChange:function(e){return D(e.target.value)},rows:"3",id:"exampleForm.ControlTextarea1",class:"form-control"}),Object(F.jsx)("button",{onClick:M,type:"button",class:"btn btn-primary",children:"Submit"})]})]})})})]})})}),Object(F.jsx)(x.a,{children:Object(F.jsx)(g.a,{md:"12",children:Object(F.jsxs)(v.a,{children:[Object(F.jsxs)(C.a,{children:[Object(F.jsx)(S.a,{tag:"h4",children:"Past Data Logs"}),Object(F.jsx)("p",{className:"card-category",children:"This table shows data updates in the past"})]}),Object(F.jsx)(w.a,{children:Object(F.jsxs)(N.a,{responsive:!0,children:[Object(F.jsx)("thead",{className:"text-primary",children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:"Updated at"}),Object(F.jsx)("th",{children:"Number of beds"}),Object(F.jsx)("th",{children:"Note"})]})}),Object(F.jsx)("tbody",{children:P.map((function(e){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:Object(L.a)(new Date(e.time),new Date)}),Object(F.jsx)("td",{children:e.beds}),Object(F.jsx)("td",{children:e.desc})]})}))})]})})]})})})]})})};var W=a(76),M=a.n(W);var z=function(e){var t=r.a.useRef(),a=function(e,a,n){var r;switch(n){case 1:r="primary";break;case 2:r="success";break;case 3:r="danger";break;case 4:r="warning";break;case 5:r="info"}var c;c={place:e,message:Object(F.jsx)("div",{children:Object(F.jsx)("div",{children:a})}),type:r,icon:"nc-icon nc-bell-55",autoDismiss:7},t.current.notificationAlert(c)};function c(){return s.apply(this,arguments)}function s(){return(s=Object(f.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("http://ec2-54-77-11-148.eu-west-1.compute.amazonaws.com:5100/v1/covid/centres",{method:"GET",headers:{"Content-Type":"application/json","x-access-tokens":JSON.parse(localStorage.getItem("token"))}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(e){return i.apply(this,arguments)}function i(){return(i=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.abrupt("return",fetch("http://ec2-54-77-11-148.eu-west-1.compute.amazonaws.com:5100/v1/covid/centre/bed",{method:"POST",headers:{"Content-Type":"application/json","x-access-tokens":JSON.parse(localStorage.getItem("token"))},body:JSON.stringify({beds:Number(t.beds),time:(new Date).getTime(),desc:t.note,username:z.username})}).then((function(e){return e.json()})).catch((function(e){return a("bc",String(e),3)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return u.apply(this,arguments)}function u(){return(u=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("http://ec2-54-77-11-148.eu-west-1.compute.amazonaws.com:5100/v1/covid/centre/beds",{method:"POST",headers:{"Content-Type":"application/json","x-access-tokens":JSON.parse(localStorage.getItem("token"))},body:JSON.stringify({username:t})}).then((function(e){return e.json()})).catch((function(e){return a("bc",String(e),3)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=Object(n.useState)(""),b=Object(d.a)(j,2),p=(b[0],b[1],Object(n.useState)("")),h=Object(d.a)(p,2),m=(h[0],h[1],Object(n.useState)()),y=Object(d.a)(m,2),k=y[0],A=y[1],T=Object(n.useState)(""),I=Object(d.a)(T,2),J=I[0],E=I[1],D=Object(n.useState)([]),R=Object(d.a)(D,2),U=R[0],P=R[1],W=Object(n.useState)(),M=Object(d.a)(W,2),z=M[0],H=M[1],K=Object(n.useState)([]),G=Object(d.a)(K,2),V=G[0],Q=G[1],X=function(){var t=Object(f.a)(O.a.mark((function t(n){var r,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,o({beds:k,note:J});case 3:return"error"in(r=t.sent)&&"Signature has expired"==r.error&&(localStorage.clear(),window.location.pathname="login"),"error"in r?a("bc",r.error,3):a("bc",r.results,2),e.setActive(!0),t.next=9,l(z.username);case 9:"error"in(c=t.sent)&&"Signature has expired"==c.error&&(localStorage.clear(),window.location.pathname="login"),e.setActive(!1),P(c.results.reverse()),A(0),E("");case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)(Object(f.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setActive(!0),c().then((function(t){"error"in t&&"Signature has expired"==t.error&&(localStorage.clear(),window.location.pathname="login"),console.log(t.results[1]),Q(t.results),H(t.results[1]),console.log(z),l(t.results[1].username).then((function(t){e.setActive(!1),console.log(t),P(t.results.reverse())}))}));case 2:case"end":return t.stop()}}),t)}))),[]),Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"content",children:[Object(F.jsx)(B.a,{ref:t}),Object(F.jsx)(x.a,{children:Object(F.jsx)(g.a,{md:"12",children:Object(F.jsxs)(v.a,{className:"demo-icons",children:[Object(F.jsx)(C.a,{children:Object(F.jsxs)(S.a,{tag:"h5",children:["Update available beds for ",z?z.name:""," in ",(z?z.location:"")+" - "+(z?z.province:"")]})}),Object(F.jsx)(w.a,{className:"all-icons",children:Object(F.jsx)("div",{class:"row",children:Object(F.jsxs)("div",{class:"col-md-12",children:[Object(F.jsxs)("div",{class:"form-group",children:[Object(F.jsx)("label",{for:"exampleForm.ControlSelect1",class:"form-label",children:"Select Covid Centre"}),Object(F.jsx)("select",{value:z?z.name:"",onChange:function(t){e.setActive(!0),H(V.find((function(e){return e.name==t.target.value}))),l(V.find((function(e){return e.name==t.target.value})).username).then((function(t){"error"in t&&"Signature has expired"==t.error&&(localStorage.clear(),window.location.pathname="login"),console.log(t),e.setActive(!1),P(t.results.reverse())}))},id:"exampleForm.ControlSelect1",class:"form-control",children:V.map((function(e){return Object(F.jsx)("option",{children:e.name})}))})]}),Object(F.jsxs)("div",{class:"form-group",children:[Object(F.jsx)("label",{for:"exampleForm.ControlInput1",class:"form-label",children:"Available Beds"}),Object(F.jsx)("input",{value:k,onChange:function(e){return A(e.target.value)},placeholder:"Number of beds available",type:"number",id:"exampleForm.ControlInput1",class:"form-control"})]}),Object(F.jsxs)("div",{class:"form-group",children:[Object(F.jsx)("label",{for:"exampleForm.ControlTextarea1",class:"form-label",children:"Additional Note"}),Object(F.jsx)("textarea",{value:J,onChange:function(e){return E(e.target.value)},rows:"3",id:"exampleForm.ControlTextarea1",class:"form-control"}),Object(F.jsx)("button",{onClick:X,type:"button",class:"btn btn-primary",children:"Submit"})]})]})})})]})})}),Object(F.jsx)(x.a,{children:Object(F.jsx)(g.a,{md:"12",children:Object(F.jsxs)(v.a,{children:[Object(F.jsxs)(C.a,{children:[Object(F.jsx)(S.a,{tag:"h4",children:"Past Data Logs"}),Object(F.jsx)("p",{className:"card-category",children:"This table shows data updates in the past"})]}),Object(F.jsx)(w.a,{children:Object(F.jsxs)(N.a,{responsive:!0,children:[Object(F.jsx)("thead",{className:"text-primary",children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:"Updated at"}),Object(F.jsx)("th",{children:"Number of beds"}),Object(F.jsx)("th",{children:"Note"})]})}),Object(F.jsx)("tbody",{children:U.map((function(e){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:Object(L.a)(new Date(e.time),new Date)}),Object(F.jsx)("td",{children:e.beds}),Object(F.jsx)("td",{children:e.desc})]})}))})]})})]})})})]})})};a(34),a(129),a(130),a(131);var H=function(e){var t=e.setToken,a=e.setUser,c=r.a.useRef(),s=function(e,t,a){var n;switch(a){case 1:n="primary";break;case 2:n="success";break;case 3:n="danger";break;case 4:n="warning";break;case 5:n="info"}var r;r={place:e,message:Object(F.jsx)("div",{children:Object(F.jsx)("div",{children:t})}),type:n,icon:"nc-icon nc-bell-55",autoDismiss:7},c.current.notificationAlert(r)};function o(e){return i.apply(this,arguments)}function i(){return(i=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.abrupt("return",fetch("http://ec2-54-77-11-148.eu-west-1.compute.amazonaws.com:5100/login",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(t.username+":"+t.password),"Access-Control-Allow-Origin":"http://ec2-54-77-11-148.eu-west-1.compute.amazonaws.com:5100/login","Access-Control-Allow-Headers":"Authorization"}}).then((function(e){return e.json()})).catch((function(e){return s("bc","Invalid Login : "+String(e),3)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var l=Object(n.useState)(),u=Object(d.a)(l,2),j=u[0],b=u[1],p=Object(n.useState)(),h=Object(d.a)(p,2),m=h[0],y=h[1],N=function(){var e=Object(f.a)(O.a.mark((function e(n){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),console.log(j,m),j&&m){e.next=5;break}return s("bc","Empty fields not allowed",3),e.abrupt("return");case 5:return e.next=7,o({username:j,password:m});case 7:(r=e.sent)?(console.log(r.data[0].username),localStorage.setItem("data",JSON.stringify(r.data[0])),a(r.data[0].username),s("bc","Successfully logged in as : "+j,2),t(r.token)):(console.log("error"),s("bc","Invalid Login Credentials",3));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"content",style:{margin:"10% 0"},children:[Object(F.jsx)(B.a,{ref:c}),Object(F.jsx)(x.a,{style:{alignContent:"center"},children:Object(F.jsx)(g.a,{md:{size:4,order:2,offset:4},children:Object(F.jsxs)(v.a,{className:"demo-icons",children:[Object(F.jsx)(C.a,{children:Object(F.jsx)(S.a,{tag:"h5",children:"Login"})}),Object(F.jsx)(w.a,{className:"all-icons",children:Object(F.jsx)("div",{class:"row",children:Object(F.jsxs)("div",{class:"col-md-12",children:[Object(F.jsxs)("div",{class:"form-group",children:[Object(F.jsx)("label",{for:"exampleForm.ControlInput1",class:"form-label",children:"Username"}),Object(F.jsx)("input",{placeholder:"Username",onChange:function(e){return b(e.target.value)},type:"text",id:"exampleForm.ControlInput1",class:"form-control"})]}),Object(F.jsxs)("div",{class:"form-group",children:[Object(F.jsx)("label",{for:"exampleForm.ControlInput1",class:"form-label",children:"Password"}),Object(F.jsx)("input",{placeholder:"Password",onChange:function(e){return y(e.target.value)},type:"password",id:"exampleForm.ControlInput1",class:"form-control"})]}),Object(F.jsx)("div",{class:"form-group",children:Object(F.jsx)("button",{type:"button",onClick:N,class:"btn btn-primary",children:"Submit"})})]})})})]})})})]})})},K=[{path:"/update",name:"Update Beds",icon:"nc-icon nc-share-66",component:P,layout:"/admin"},{path:"/dashboard",name:"Covid Centres",icon:"nc-icon nc-bank",component:J,layout:"/admin"},{path:"/add",name:"Add Covid Centre",icon:"nc-icon nc-simple-add",component:U,layout:"/admin"},{path:"/updatebeds",name:"Update Beds",icon:"nc-icon nc-share-66",component:z,layout:"/admin"}];var G=function(e){var t=this,a=r.a.useState(!1),n=Object(d.a)(a,2),c=n[0],s=(n[1],r.a.useState(!1)),o=Object(d.a)(s,2),i=(o[0],o[1],r.a.useState("transparent")),u=Object(d.a)(i,2),h=u[0],m=u[1],O=r.a.useRef(),f=Object(l.g)(),x=function(){window.innerWidth<993&&c?m("dark"):m("transparent")};return r.a.useEffect((function(){window.addEventListener("resize",x.bind(t))})),r.a.useEffect((function(){window.innerWidth<993&&-1!==document.documentElement.className.indexOf("nav-open")&&(document.documentElement.classList.toggle("nav-open"),O.current.classList.toggle("toggled"))}),[f]),Object(F.jsx)(j.a,{color:-1!==e.location.pathname.indexOf("full-screen-maps")?"dark":h,expand:"lg",className:-1!==e.location.pathname.indexOf("full-screen-maps")?"navbar-absolute fixed-top":"navbar-absolute fixed-top "+("transparent"===h?"navbar-transparent ":""),children:Object(F.jsxs)(b.a,{fluid:!0,children:[Object(F.jsxs)("div",{className:"navbar-wrapper",children:[Object(F.jsx)("div",{className:"navbar-toggle",children:Object(F.jsxs)("button",{type:"button",ref:O,className:"navbar-toggler",onClick:function(){return document.documentElement.classList.toggle("nav-open"),void O.current.classList.toggle("toggled")},children:[Object(F.jsx)("span",{className:"navbar-toggler-bar bar1"}),Object(F.jsx)("span",{className:"navbar-toggler-bar bar2"}),Object(F.jsx)("span",{className:"navbar-toggler-bar bar3"})]})}),Object(F.jsx)(p.a,{href:"/",children:function(){var e="Default Brand";return K.map((function(t,a){return-1!==window.location.href.indexOf(t.layout+t.path)&&(e=t.name),null})),e}()})]}),Object(F.jsx)("button",{onClick:function(){localStorage.clear(),window.location.pathname="login"},children:"Log Out"})]})})};var V,Q=a(115);a.p;var X=function(e){var t=r.a.useRef();return r.a.useEffect((function(){return navigator.platform.indexOf("Win")>-1&&(V=new u.a(t.current,{suppressScrollX:!0,suppressScrollY:!1})),function(){navigator.platform.indexOf("Win")>-1&&V.destroy()}})),Object(F.jsxs)("div",{className:"sidebar","data-color":e.bgColor,"data-active-color":e.activeColor,children:[Object(F.jsxs)("div",{className:"logo",children:[Object(F.jsx)("a",{href:"https://www.creative-tim.com",className:"simple-text logo-mini",children:Object(F.jsx)("div",{className:"logo-img",children:Object(F.jsx)("img",{style:{color:"white"},src:"https://www.pat.nhs.uk/Coronavirus/images/Covid%2019%20Icon.png",alt:"react-logo"})})}),Object(F.jsx)("a",{href:"https://www.creative-tim.com",className:"simple-text logo-normal",children:"Covid Centres"})]}),Object(F.jsx)("div",{className:"sidebar-wrapper",ref:t,children:Object(F.jsx)(Q.a,{children:e.routes.map((function(t,a){return Object(F.jsx)("li",{className:(n=t.path,(e.location.pathname.indexOf(n)>-1?"active":"")+(t.pro?" active-pro":"")),children:Object(F.jsxs)(i.b,{to:t.layout+t.path,className:"nav-link",activeClassName:"active",children:[Object(F.jsx)("i",{className:t.icon}),Object(F.jsx)("p",{children:t.name})]})},a);var n}))})})]})};var Y;var Z=function(e){var t=!1;function a(e){t=e,console.log(e)}var n=r.a.useState("black"),c=Object(d.a)(n,2),s=c[0],i=(c[1],r.a.useState("info")),j=Object(d.a)(i,2),b=j[0],p=(j[1],r.a.useState([])),h=Object(d.a)(p,2),m=h[0],O=h[1],f=r.a.useRef(),x=Object(l.g)();return r.a.useEffect((function(){return navigator.platform.indexOf("Win")>-1&&(Y=new u.a(f.current),document.body.classList.toggle("perfect-scrollbar-on")),function(){navigator.platform.indexOf("Win")>-1&&(Y.destroy(),document.body.classList.toggle("perfect-scrollbar-on"))}})),r.a.useEffect((function(){console.log(e.user),"admin"!=e.user?(O(K?K.filter((function(e){return"/update"==e.path})):K),console.log(m)):O(K?K.filter((function(e){return"/update"!=e.path})):K),f.current.scrollTop=0,document.scrollingElement.scrollTop=0}),[x]),Object(F.jsx)(M.a,{active:t,spinner:!0,text:"Loading ...",children:Object(F.jsxs)("div",{className:"wrapper",children:[Object(F.jsx)(X,Object(o.a)(Object(o.a)({},e),{},{routes:m,bgColor:s,activeColor:b})),Object(F.jsxs)("div",{className:"main-panel",ref:f,children:[Object(F.jsx)(G,Object(o.a)({},e)),Object(F.jsx)(l.d,{children:m.map((function(e,t){return Object(F.jsx)(l.b,{path:e.layout+e.path,component:function(){return Object(F.jsx)(e.component,{setActive:a})}},t)}))})]})]})})};a(285),a(286),a(287),a(288);var q=function(){var e=function(){var e=Object(n.useState)(function(){var e=localStorage.getItem("user");return JSON.parse(e)}()),t=Object(d.a)(e,2),a=t[0],r=t[1];return{setUser:function(e){localStorage.setItem("user",JSON.stringify(e)),r(e)},user:a}}(),t=e.user,a=e.setUser,r=function(){var e=Object(n.useState)(function(){var e=localStorage.getItem("token");return JSON.parse(e)}()),t=Object(d.a)(e,2),a=t[0],r=t[1];return{setToken:function(e){localStorage.setItem("token",JSON.stringify(e)),r(e)},token:a}}(),c=r.token,s=r.setToken;return c?Object(F.jsx)(i.a,{children:Object(F.jsxs)(l.d,{children:[Object(F.jsx)(l.b,{path:"/admin",render:function(e){return Object(F.jsx)(Z,Object(o.a)({user:t},e))}}),"admin"==t&&Object(F.jsx)(l.a,{to:"/admin/dashboard"}),"admin"!=t&&Object(F.jsx)(l.a,{to:"/admin/update"})]})}):Object(F.jsx)(H,{setToken:s,setUser:a})};s.a.render(Object(F.jsx)(q,{}),document.getElementById("root"))}},[[290,1,2]]]);
//# sourceMappingURL=main.9fca45d3.chunk.js.map