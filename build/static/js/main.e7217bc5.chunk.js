/*!

=========================================================
* Paper Dashboard React - v1.3.0
=========================================================

* Product Page: https://www.creative-tim.com/product/paper-dashboard-react
* Copyright 2021 Creative Tim (http://www.creative-tim.com)

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

*/
/*! For license information please see main.e7217bc5.chunk.js.LICENSE.txt */
(this["webpackJsonppaper-dashboard-react"]=this["webpackJsonppaper-dashboard-react"]||[]).push([[0],{249:function(e,t){e.exports={dashboard24HoursPerformanceChart:{data:function(e){return{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct"],datasets:[{borderColor:"#6bd098",backgroundColor:"#6bd098",pointRadius:0,pointHoverRadius:0,borderWidth:3,tension:.4,fill:!0,data:[300,310,316,322,330,326,333,345,338,354]},{borderColor:"#f17e5d",backgroundColor:"#f17e5d",pointRadius:0,pointHoverRadius:0,borderWidth:3,tension:.4,fill:!0,data:[320,340,365,360,370,385,390,384,408,420]},{borderColor:"#fcc468",backgroundColor:"#fcc468",pointRadius:0,pointHoverRadius:0,borderWidth:3,tension:.4,fill:!0,data:[370,394,415,409,425,445,460,450,478,484]}]}},options:{plugins:{legend:{display:!1},tooltip:{enabled:!1}},scales:{y:{ticks:{color:"#9f9f9f",beginAtZero:!1,maxTicksLimit:5},grid:{drawBorder:!1,display:!1}},x:{barPercentage:1.6,grid:{drawBorder:!1,display:!1},ticks:{padding:20,color:"#9f9f9f"}}}}},dashboardEmailStatisticsChart:{data:function(e){return{labels:[1,2,3],datasets:[{label:"Emails",pointRadius:0,pointHoverRadius:0,backgroundColor:["#e3e3e3","#4acccd","#fcc468","#ef8157"],borderWidth:0,data:[342,480,530,120]}]}},options:{plugins:{legend:{display:!1},tooltip:{enabled:!1}},maintainAspectRatio:!1,pieceLabel:{render:"percentage",fontColor:["white"],precision:2},scales:{y:{ticks:{display:!1},grid:{drawBorder:!1,display:!1}},x:{barPercentage:1.6,grid:{drawBorder:!1,display:!1},ticks:{display:!1}}}}},dashboardNASDAQChart:{data:function(e){return{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{data:[0,19,15,20,30,40,40,50,25,30,50,70],fill:!1,borderColor:"#fbc658",backgroundColor:"transparent",pointBorderColor:"#fbc658",pointRadius:4,pointHoverRadius:4,pointBorderWidth:8,tension:.4},{data:[0,5,10,12,20,27,30,34,42,45,55,63],fill:!1,borderColor:"#51CACF",backgroundColor:"transparent",pointBorderColor:"#51CACF",pointRadius:4,pointHoverRadius:4,pointBorderWidth:8,tension:.4}]}},options:{plugins:{legend:{display:!1}}}}}},290:function(e,t,a){},291:function(e,t,a){},294:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(25),s=a.n(c),o=a(22),i=a(36),l=a(15),d=a(11),u=a(55),j=a(116),b=a(115),p=a(117),h=a(17),m=a(13),f=a.n(m),O=a(16),x=(a(293),a(106)),g=a(107),v=a(108),w=a(109),y=a(110),S=a(111),C=a(112),N=a(113),k=a(35),F=a(297),T=(a(249),a(31)),I=(a(250),a(3));function A(){return J.apply(this,arguments)}function J(){return(J=Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(" http://203.94.76.62:5100/v1/covid/centres",{method:"GET",headers:{"Content-Type":"application/json","x-access-tokens":JSON.parse(localStorage.getItem("token"))}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=function(e){var t=Object(r.useState)([]),a=Object(d.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(),o=Object(d.a)(s,2),i=o[0],l=o[1],u=Object(r.useState)(),j=Object(d.a)(u,2),b=j[0],p=j[1],m=Object(r.useState)("password"),J=Object(d.a)(m,2),E=J[0];return J[1],Object(r.useEffect)(Object(O.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:"error"in(t=e.sent)&&"Signature has expired"==t.error&&(localStorage.clear(),window.location.pathname="login"),c(t.results),p(t.results),l(new Date);case 7:case"end":return e.stop()}}),e)}))),[]),Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{className:"content",children:[Object(I.jsxs)(x.a,{children:[Object(I.jsx)(g.a,{lg:"6",md:"6",sm:"6",children:Object(I.jsxs)(v.a,{className:"card-stats",children:[Object(I.jsx)(w.a,{children:Object(I.jsxs)(x.a,{children:[Object(I.jsx)(g.a,{md:"4",xs:"5",children:Object(I.jsx)("div",{className:"icon-big text-center icon-warning",children:Object(I.jsx)(T.a,{color:"black"})})}),Object(I.jsx)(g.a,{md:"8",xs:"7",children:Object(I.jsxs)("div",{className:"numbers",children:[Object(I.jsx)("p",{className:"card-category",children:"Available Beds"}),Object(I.jsx)(y.a,{tag:"p",children:n.map((function(e){return"not updated"!=e.beds?e.beds:0})).reduce((function(e,t){return e+t}),0)}),Object(I.jsx)("p",{})]})})]})}),Object(I.jsxs)(S.a,{children:[Object(I.jsx)("hr",{}),Object(I.jsxs)("div",{className:"stats",children:[Object(I.jsx)("i",{className:"fas fa-sync-alt"})," Updated ",i?i.toTimeString():""]})]})]})}),Object(I.jsx)(g.a,{lg:"6",md:"6",sm:"6",children:Object(I.jsxs)(v.a,{className:"card-stats",children:[Object(I.jsx)(w.a,{children:Object(I.jsxs)(x.a,{children:[Object(I.jsx)(g.a,{md:"4",xs:"5",children:Object(I.jsx)("div",{className:"icon-big text-center icon-warning",children:Object(I.jsx)(T.b,{})})}),Object(I.jsx)(g.a,{md:"8",xs:"7",children:Object(I.jsxs)("div",{className:"numbers",children:[Object(I.jsx)("p",{className:"card-category",children:"Covid Centres"}),Object(I.jsx)(y.a,{tag:"p",children:n.length}),Object(I.jsx)("p",{})]})})]})}),Object(I.jsxs)(S.a,{children:[Object(I.jsx)("hr",{}),Object(I.jsxs)("div",{className:"stats",children:[Object(I.jsx)("i",{className:"far fa-calendar"})," Updated ",i?i.toTimeString():""]})]})]})})]}),Object(I.jsx)(x.a,{children:Object(I.jsx)(g.a,{md:"12",children:Object(I.jsxs)(v.a,{children:[Object(I.jsxs)(C.a,{children:[Object(I.jsx)(y.a,{tag:"h4",children:"Available Beds in Covid Centres"}),Object(I.jsx)("p",{className:"card-category",children:"This table shows the latest available bed count in each covid centre in Sri Lanka"})]}),Object(I.jsx)(w.a,{children:Object(I.jsxs)(N.a,{responsive:!0,children:[Object(I.jsx)("thead",{className:"text-primary",children:Object(I.jsxs)("tr",{children:[Object(I.jsxs)("th",{children:["Name",Object(I.jsx)(k.a,{style:{float:"right",marginRight:"20%"},size:"sm",children:Object(I.jsx)("span",{onClick:function(){b.sort((function(e,t){return e.name.localeCompare(t.name)})),c(JSON.parse(JSON.stringify(b)))},toggle:"#password-field",class:"fa fa-fw fa-sort field-icon"})})]}),Object(I.jsxs)("th",{children:["Location",Object(I.jsx)(k.a,{style:{float:"right",marginRight:"20%"},size:"sm",children:Object(I.jsx)("span",{onClick:function(){b.sort((function(e,t){return e.location.localeCompare(t.location)})),c(JSON.parse(JSON.stringify(b)))},toggle:"#password-field",class:"fa fa-fw fa-sort field-icon"})})]}),Object(I.jsx)("th",{children:"Available Beds"}),Object(I.jsx)("th",{children:"Updated at"}),Object(I.jsx)("th",{children:"Notes"}),"admin_dash"!=e.user&&Object(I.jsx)("th",{children:"username"}),"admin_dash"!=e.user&&Object(I.jsx)("th",{children:"password"}),"admin_dash"!=e.user&&Object(I.jsx)("th",{children:"remove"})]})}),Object(I.jsxs)("tbody",{children:[Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:Object(I.jsx)("input",{placeholder:"search by name",onChange:function(e){c(b.filter((function(t){return t.name.toLowerCase().includes(e.target.value)})))}})}),Object(I.jsx)("td",{children:Object(I.jsx)("input",{placeholder:"search by location",onChange:function(e){c(b.filter((function(t){return t.location.toLowerCase().includes(e.target.value)})))}})}),Object(I.jsx)("td",{children:Object(I.jsx)("input",{type:"number",placeholder:"search by beds",onChange:function(e){""==e.target.value?c(b):c(b.filter((function(e){return"not updated"!=e.beds})).filter((function(t){return Number(e.target.value)-10<t.beds&&t.beds<Number(e.target.value)+10})))}})}),Object(I.jsx)("td",{}),Object(I.jsx)("td",{})]},"search"),n.map((function(t){var a;return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:t.name}),Object(I.jsxs)("td",{children:[t.location," - ",t.province]}),Object(I.jsx)("td",{children:t.beds}),Object(I.jsx)("td",{children:t.updated?Object(F.a)(new Date(t.updated),new Date,{addSuffix:!0}):""}),Object(I.jsx)("td",{children:t.desc}),"admin_dash"!=e.user&&Object(I.jsx)("td",{children:t.username}),"admin_dash"!=e.user&&Object(I.jsxs)("td",{children:[Object(I.jsx)("input",(a={type:E,id:t.username},Object(h.a)(a,"type","password"),Object(h.a)(a,"value",t.password),a)),Object(I.jsx)(k.a,{size:"sm",children:Object(I.jsx)("span",{onClick:function(){var e=document.getElementById(t.username);"password"==e.type?e.type="text":e.type="password"},toggle:"#password-field",class:"fa fa-fw fa-eye field-icon toggle-password"})})]}),"admin_dash"!=e.user&&Object(I.jsx)("td",{children:Object(I.jsx)(k.a,{size:"sm",children:Object(I.jsx)("span",{onClick:function(){fetch(" http://203.94.76.62:5100/v1/covid/centre/delete",{method:"POST",headers:{"Content-Type":"application/json","x-access-tokens":JSON.parse(localStorage.getItem("token"))},body:JSON.stringify({username:t.username})}).then(function(){var e=Object(O.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:"error"in(a=e.sent)&&"Signature has expired"==a.error&&(localStorage.clear(),window.location.pathname="login"),c(a.results),p(a.results),l(new Date);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}))},toggle:"#password-field",class:"fa fa-fw fa-trash field-icon"})})})]},t.username)}))]})]})})]})})})]})})},D=(a(114),a(54),a(28)),R=a.n(D);function B(e){return L.apply(this,arguments)}function L(){return(L=Object(O.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(" http://203.94.76.62:5100/v1/covid/centre",{method:"POST",headers:{"Content-Type":"application/json","x-access-tokens":JSON.parse(localStorage.getItem("token"))},body:JSON.stringify({name:t.name,district:t.district,province:t.province,contact:t.contact,username:t.username,password:t.password})}).then((function(e){return e.json()})).catch((function(e){return notify("bc",String(e),3)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=function(){var e=n.a.useRef(),t=function(t,a,r){var n;switch(r){case 1:n="primary";break;case 2:n="success";break;case 3:n="danger";break;case 4:n="warning";break;case 5:n="info"}var c;c={place:t,message:Object(I.jsx)("div",{children:Object(I.jsx)("div",{children:a})}),type:n,icon:"nc-icon nc-bell-55",autoDismiss:7},e.current.notificationAlert(c)},a=Object(r.useState)(),c=Object(d.a)(a,2),s=c[0],o=c[1],i=Object(r.useState)("Northern"),l=Object(d.a)(i,2),u=l[0],j=l[1],b=Object(r.useState)(),p=Object(d.a)(b,2),h=p[0],m=p[1],S=Object(r.useState)(""),N=Object(d.a)(S,2),k=N[0],F=N[1],T=Object(r.useState)(),A=Object(d.a)(T,2),J=A[0],E=A[1],D=Object(r.useState)(),L=Object(d.a)(D,2),U=L[0],P=L[1],M=function(){var e=Object(O.a)(f.a.mark((function e(a){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),s&&h&&u&&J&&U){e.next=4;break}return t("bc","Empty Fields are not allowed (except contact)",3),e.abrupt("return");case 4:return e.next=6,B({name:s,province:u,district:h,contact:k,username:J,password:U});case 6:"error"in(r=e.sent)&&"Signature has expired"==r.error&&(localStorage.clear(),window.location.pathname="login"),"error"in r?t("bc",r.error,3):(o(""),F(0),E(""),P(""),t("bc",r.message,2));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{className:"content",children:[Object(I.jsx)(R.a,{ref:e}),Object(I.jsx)(x.a,{children:Object(I.jsx)(g.a,{md:"12",children:Object(I.jsxs)(v.a,{className:"demo-icons",children:[Object(I.jsx)(C.a,{children:Object(I.jsx)(y.a,{tag:"h5",children:"New Covid Centre"})}),Object(I.jsx)(w.a,{className:"all-icons",children:Object(I.jsx)("div",{class:"row",children:Object(I.jsxs)("div",{class:"col-md-12",children:[Object(I.jsxs)("div",{class:"form-group",children:[Object(I.jsxs)("label",{for:"exampleForm.ControlInput1",class:"form-label",children:["Name",Object(I.jsx)("b",{children:"*"})]}),Object(I.jsx)("input",{value:s,onChange:function(e){return o(e.target.value)},placeholder:"Name of the Covid centre",type:"text",id:"exampleForm.ControlInput1",class:"form-control"})]}),Object(I.jsxs)("div",{class:"form-group",children:[Object(I.jsxs)("label",{for:"exampleForm.ControlSelect1",class:"form-label",children:["Select Province",Object(I.jsx)("b",{children:"*"})]}),Object(I.jsxs)("select",{value:u,onChange:function(e){return j(e.target.value)},id:"exampleForm.ControlSelect1",class:"form-control",children:[Object(I.jsx)("option",{children:"Northern"}),Object(I.jsx)("option",{children:"North Western"}),Object(I.jsx)("option",{children:"Western"}),Object(I.jsx)("option",{children:"North Central"}),Object(I.jsx)("option",{children:"Central"}),Object(I.jsx)("option",{children:"Sabaragamuwa"}),Object(I.jsx)("option",{children:"Eastern"}),Object(I.jsx)("option",{children:"Uva"}),Object(I.jsx)("option",{children:"Southern"})]})]}),Object(I.jsxs)("div",{class:"form-group",children:[Object(I.jsxs)("label",{for:"exampleForm.ControlSelect1",class:"form-label",children:["Select District",Object(I.jsx)("b",{children:"*"})]}),Object(I.jsx)("select",{value:h,onChange:function(e){return m(e.target.value)},id:"exampleForm.ControlSelect1",class:"form-control",children:u?{Western:["Gampaha","Colombo","Kaluthara"],Northern:["Jaffna","Kilinochchi","Mannar","Mulativ","Vavuniya"],"North Western":["Puttalam","Kurunegala"],"North Central":["Anuradhapura","Polonnaruwa"],Central:["Matale","Kandy","Nuwara Eliya"],Sabaragamuwa:["Kegalle","Ratnapura"],Eastern:["Trincomalee","Batticaloa","Ampara"],Uva:["Badulla","Monaragala"],Southern:["Galle","Matara","Hambanthota"]}[u].map((function(e){return Object(I.jsx)("option",{children:e})})):["Gampaha","Colombo","Kaluthara","Jaffna","Kilinochchi","Mannar","Mulativ","Vavuniya","Puttalam","Kurunegala","Anuradhapura","Polonnaruwa","Matale","Kandy","Nuwara Eliya","Kegalle","Ratnapura","Trincomalee","Batticaloa","Ampara","Badulla","Monaragala","Galle","Matara","Hambanthota"].map((function(e){return Object(I.jsx)("option",{children:e})}))})]}),Object(I.jsxs)("div",{class:"form-group",children:[Object(I.jsx)("label",{for:"exampleForm.ControlInput1",class:"form-label",children:"Contact Number"}),Object(I.jsx)("input",{value:k,onChange:function(e){return F(e.target.value)},placeholder:"Contact Number for the covid centre",type:"text",id:"exampleForm.ControlInput1",class:"form-control"})]}),Object(I.jsxs)("div",{class:"form-group",children:[Object(I.jsxs)("label",{for:"exampleForm.ControlInput1",class:"form-label",children:["Username",Object(I.jsx)("b",{children:"*"})]}),Object(I.jsx)("input",{value:J,onChange:function(e){return E(e.target.value)},placeholder:"Username for the covid centre",type:"text",id:"exampleForm.ControlInput1",class:"form-control"})]}),Object(I.jsxs)("div",{class:"form-group",children:[Object(I.jsxs)("label",{for:"exampleForm.ControlInput1",class:"form-label",children:["Password",Object(I.jsx)("b",{children:"*"})]}),Object(I.jsx)("input",{value:U,onChange:function(e){return P(e.target.value)},placeholder:"password for the covid centre",type:"text",id:"exampleForm.ControlInput1",class:"form-control"})]}),Object(I.jsx)("div",{class:"form-group",children:Object(I.jsx)("button",{onClick:M,type:"button",class:"btn btn-primary",children:"Submit"})})]})})})]})})})]})})},P=a(296);var M=function(){var e=n.a.useRef(),t=function(t,a,r){var n;switch(r){case 1:n="primary";break;case 2:n="success";break;case 3:n="danger";break;case 4:n="warning";break;case 5:n="info"}var c;c={place:t,message:Object(I.jsx)("div",{children:Object(I.jsx)("div",{children:a})}),type:n,icon:"nc-icon nc-bell-55",autoDismiss:7},e.current.notificationAlert(c)};function a(e){return c.apply(this,arguments)}function c(){return(c=Object(O.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(" http://203.94.76.62:5100/v1/covid/centre/bed",{method:"POST",headers:{"Content-Type":"application/json","x-access-tokens":JSON.parse(localStorage.getItem("token"))},body:JSON.stringify({beds:Number(a.beds),time:(new Date).getTime(),desc:a.note,username:JSON.parse(localStorage.getItem("data")).username})}).then((function(e){return e.json()})).catch((function(e){return t("bc",String(e),3)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return o.apply(this,arguments)}function o(){return(o=Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(" http://203.94.76.62:5100/v1/covid/centre/beds",{method:"GET",headers:{"Content-Type":"application/json","x-access-tokens":JSON.parse(localStorage.getItem("token"))}}).then((function(e){return e.json()})).catch((function(e){return t("bc",String(e),3)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var i=Object(r.useState)(""),l=Object(d.a)(i,2),u=l[0],j=l[1],b=Object(r.useState)(""),p=Object(d.a)(b,2),h=p[0],m=p[1],S=Object(r.useState)(),k=Object(d.a)(S,2),F=k[0],T=k[1],A=Object(r.useState)(""),J=Object(d.a)(A,2),E=J[0],D=J[1],B=Object(r.useState)([]),L=Object(d.a)(B,2),U=L[0],M=L[1],W=function(){var e=Object(O.a)(f.a.mark((function e(r){var n,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,a({beds:F,note:E});case 3:return"error"in(n=e.sent)&&"Signature has expired"==n.error&&(localStorage.clear(),window.location.pathname="login"),"error"in n?t("bc",n.error,3):t("bc",n.results,2),e.next=8,s();case 8:"error"in(c=e.sent)&&"Signature has expired"==c.error&&(localStorage.clear(),window.location.pathname="login"),M(c.results.reverse()),T(0),D("");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)(Object(O.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:"error"in(t=e.sent)&&"Signature has expired"==t.error&&(localStorage.clear(),window.location.pathname="login"),M(t.results.reverse()),U.length,a=JSON.parse(localStorage.getItem("data")),j(a.location+" - "+a.province),m(a.name);case 9:case"end":return e.stop()}}),e)}))),[]),Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{className:"content",children:[Object(I.jsx)(R.a,{ref:e}),Object(I.jsx)(x.a,{children:Object(I.jsx)(g.a,{md:"12",children:Object(I.jsxs)(v.a,{className:"demo-icons",children:[Object(I.jsx)(C.a,{children:Object(I.jsxs)(y.a,{tag:"h5",children:["Update available beds for ",h," in ",u]})}),Object(I.jsx)(w.a,{className:"all-icons",children:Object(I.jsx)("div",{class:"row",children:Object(I.jsxs)("div",{class:"col-md-12",children:[Object(I.jsxs)("div",{class:"form-group",children:[Object(I.jsx)("label",{for:"exampleForm.ControlSelect1",class:"form-label",children:"Select Covid Centre"}),Object(I.jsx)("select",{id:"exampleForm.ControlSelect1",class:"form-control",children:Object(I.jsx)("option",{children:h})})]}),Object(I.jsxs)("div",{class:"form-group",children:[Object(I.jsx)("label",{for:"exampleForm.ControlInput1",class:"form-label",children:"Available Beds"}),Object(I.jsx)("input",{value:F,onChange:function(e){return T(e.target.value)},placeholder:"Number of beds available",type:"number",id:"exampleForm.ControlInput1",class:"form-control"})]}),Object(I.jsxs)("div",{class:"form-group",children:[Object(I.jsx)("label",{for:"exampleForm.ControlTextarea1",class:"form-label",children:"Additional Note"}),Object(I.jsx)("textarea",{value:E,onChange:function(e){return D(e.target.value)},rows:"3",id:"exampleForm.ControlTextarea1",class:"form-control"}),Object(I.jsx)("button",{onClick:W,type:"button",class:"btn btn-primary",children:"Submit"})]})]})})})]})})}),Object(I.jsx)(x.a,{children:Object(I.jsx)(g.a,{md:"12",children:Object(I.jsxs)(v.a,{children:[Object(I.jsxs)(C.a,{children:[Object(I.jsx)(y.a,{tag:"h4",children:"Past Data Logs"}),Object(I.jsx)("p",{className:"card-category",children:"This table shows data updates in the past"})]}),Object(I.jsx)(w.a,{children:Object(I.jsxs)(N.a,{responsive:!0,children:[Object(I.jsx)("thead",{className:"text-primary",children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Updated at"}),Object(I.jsx)("th",{children:"Number of beds"}),Object(I.jsx)("th",{children:"Note"})]})}),Object(I.jsx)("tbody",{children:U.map((function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:Object(P.a)(new Date(e.time),new Date)}),Object(I.jsx)("td",{children:e.beds}),Object(I.jsx)("td",{children:e.desc})]})}))})]})})]})})})]})})},W=a(77),H=a.n(W);var K=[{path:"/update",name:"Update Beds",icon:"nc-icon nc-share-66",component:M,layout:"/admin"},{path:"/dashboard",name:"Covid Centres",icon:"nc-icon nc-bank",component:E,layout:"/admin"},{path:"/add",name:"Add Covid Centre",icon:"nc-icon nc-simple-add",component:U,layout:"/admin"},{path:"/updatebeds",name:"Update Beds",icon:"nc-icon nc-share-66",component:function(e){var t=n.a.useRef(),a=function(e,a,r){var n;switch(r){case 1:n="primary";break;case 2:n="success";break;case 3:n="danger";break;case 4:n="warning";break;case 5:n="info"}var c;c={place:e,message:Object(I.jsx)("div",{children:Object(I.jsx)("div",{children:a})}),type:n,icon:"nc-icon nc-bell-55",autoDismiss:7},t.current.notificationAlert(c)};function c(){return s.apply(this,arguments)}function s(){return(s=Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(" http://203.94.76.62:5100/v1/covid/centres",{method:"GET",headers:{"Content-Type":"application/json","x-access-tokens":JSON.parse(localStorage.getItem("token"))}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(e){return i.apply(this,arguments)}function i(){return(i=Object(O.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(" http://203.94.76.62:5100/v1/covid/centre/bed",{method:"POST",headers:{"Content-Type":"application/json","x-access-tokens":JSON.parse(localStorage.getItem("token"))},body:JSON.stringify({beds:Number(t.beds),time:(new Date).getTime(),desc:t.note,username:H.username})}).then((function(e){return e.json()})).catch((function(e){return a("bc",String(e),3)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return u.apply(this,arguments)}function u(){return(u=Object(O.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(" http://203.94.76.62:5100/v1/covid/centre/beds",{method:"POST",headers:{"Content-Type":"application/json","x-access-tokens":JSON.parse(localStorage.getItem("token"))},body:JSON.stringify({username:t})}).then((function(e){return e.json()})).catch((function(e){return a("bc",String(e),3)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=Object(r.useState)(""),b=Object(d.a)(j,2),p=(b[0],b[1],Object(r.useState)("")),h=Object(d.a)(p,2),m=(h[0],h[1],Object(r.useState)()),S=Object(d.a)(m,2),k=S[0],F=S[1],T=Object(r.useState)(""),A=Object(d.a)(T,2),J=A[0],E=A[1],D=Object(r.useState)([]),B=Object(d.a)(D,2),L=B[0],U=B[1],M=Object(r.useState)(),W=Object(d.a)(M,2),H=W[0],K=W[1],_=Object(r.useState)([]),G=Object(d.a)(_,2),z=G[0],V=G[1],Y=function(){var t=Object(O.a)(f.a.mark((function t(r){var n,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.next=3,o({beds:k,note:J});case 3:return"error"in(n=t.sent)&&"Signature has expired"==n.error&&(localStorage.clear(),window.location.pathname="login"),"error"in n?a("bc",n.error,3):a("bc",n.results,2),e.setActive(!0),t.next=9,l(H.username);case 9:"error"in(c=t.sent)&&"Signature has expired"==c.error&&(localStorage.clear(),window.location.pathname="login"),e.setActive(!1),U(c.results.reverse()),F(0),E("");case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)(Object(O.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setActive(!0),c().then((function(t){"error"in t&&"Signature has expired"==t.error&&(localStorage.clear(),window.location.pathname="login"),V(t.results),K(t.results[1]),l(t.results[1].username).then((function(t){e.setActive(!1),U(t.results.reverse())}))}));case 2:case"end":return t.stop()}}),t)}))),[]),Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{className:"content",children:[Object(I.jsx)(R.a,{ref:t}),Object(I.jsx)(x.a,{children:Object(I.jsx)(g.a,{md:"12",children:Object(I.jsxs)(v.a,{className:"demo-icons",children:[Object(I.jsx)(C.a,{children:Object(I.jsxs)(y.a,{tag:"h5",children:["Update available beds for ",H?H.name:""," in ",(H?H.location:"")+" - "+(H?H.province:"")]})}),Object(I.jsx)(w.a,{className:"all-icons",children:Object(I.jsx)("div",{class:"row",children:Object(I.jsxs)("div",{class:"col-md-12",children:[Object(I.jsxs)("div",{class:"form-group",children:[Object(I.jsx)("label",{for:"exampleForm.ControlSelect1",class:"form-label",children:"Select Covid Centre"}),Object(I.jsx)("select",{value:H?H.name:"",onChange:function(t){e.setActive(!0),K(z.find((function(e){return e.name==t.target.value}))),l(z.find((function(e){return e.name==t.target.value})).username).then((function(t){"error"in t&&"Signature has expired"==t.error&&(localStorage.clear(),window.location.pathname="login"),e.setActive(!1),U(t.results.reverse())}))},id:"exampleForm.ControlSelect1",class:"form-control",children:z.map((function(e){return Object(I.jsx)("option",{children:e.name})}))})]}),Object(I.jsxs)("div",{class:"form-group",children:[Object(I.jsx)("label",{for:"exampleForm.ControlInput1",class:"form-label",children:"Available Beds"}),Object(I.jsx)("input",{value:k,onChange:function(e){return F(e.target.value)},placeholder:"Number of beds available",type:"number",id:"exampleForm.ControlInput1",class:"form-control"})]}),Object(I.jsxs)("div",{class:"form-group",children:[Object(I.jsx)("label",{for:"exampleForm.ControlTextarea1",class:"form-label",children:"Additional Note"}),Object(I.jsx)("textarea",{value:J,onChange:function(e){return E(e.target.value)},rows:"3",id:"exampleForm.ControlTextarea1",class:"form-control"}),Object(I.jsx)("button",{onClick:Y,type:"button",class:"btn btn-primary",children:"Submit"})]})]})})})]})})}),Object(I.jsx)(x.a,{children:Object(I.jsx)(g.a,{md:"12",children:Object(I.jsxs)(v.a,{children:[Object(I.jsxs)(C.a,{children:[Object(I.jsx)(y.a,{tag:"h4",children:"Past Data Logs"}),Object(I.jsx)("p",{className:"card-category",children:"This table shows data updates in the past"})]}),Object(I.jsx)(w.a,{children:Object(I.jsxs)(N.a,{responsive:!0,children:[Object(I.jsx)("thead",{className:"text-primary",children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Updated at"}),Object(I.jsx)("th",{children:"Number of beds"}),Object(I.jsx)("th",{children:"Note"})]})}),Object(I.jsx)("tbody",{children:L.map((function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:Object(P.a)(new Date(e.time),new Date)}),Object(I.jsx)("td",{children:e.beds}),Object(I.jsx)("td",{children:e.desc})]})}))})]})})]})})})]})})},layout:"/admin"}];var _=function(e){var t=this,a=n.a.useState(!1),r=Object(d.a)(a,2),c=r[0],s=(r[1],n.a.useState(!1)),o=Object(d.a)(s,2),i=(o[0],o[1],n.a.useState("transparent")),u=Object(d.a)(i,2),h=u[0],m=u[1],f=n.a.useRef(),O=Object(l.g)(),x=function(){window.innerWidth<993&&c?m("dark"):m("transparent")};return n.a.useEffect((function(){window.addEventListener("resize",x.bind(t))})),n.a.useEffect((function(){window.innerWidth<993&&-1!==document.documentElement.className.indexOf("nav-open")&&(document.documentElement.classList.toggle("nav-open"),f.current.classList.toggle("toggled"))}),[O]),Object(I.jsx)(j.a,{color:-1!==e.location.pathname.indexOf("full-screen-maps")?"dark":h,expand:"lg",className:-1!==e.location.pathname.indexOf("full-screen-maps")?"navbar-absolute fixed-top":"navbar-absolute fixed-top "+("transparent"===h?"navbar-transparent ":""),children:Object(I.jsxs)(b.a,{fluid:!0,children:[Object(I.jsxs)("div",{className:"navbar-wrapper",children:[Object(I.jsx)("div",{className:"navbar-toggle",children:Object(I.jsxs)("button",{type:"button",ref:f,className:"navbar-toggler",onClick:function(){return document.documentElement.classList.toggle("nav-open"),void f.current.classList.toggle("toggled")},children:[Object(I.jsx)("span",{className:"navbar-toggler-bar bar1"}),Object(I.jsx)("span",{className:"navbar-toggler-bar bar2"}),Object(I.jsx)("span",{className:"navbar-toggler-bar bar3"})]})}),Object(I.jsx)(p.a,{href:"/",children:function(){var e="Default Brand";return K.map((function(t,a){return-1!==window.location.href.indexOf(t.layout+t.path)&&(e=t.name),null})),e}()})]}),Object(I.jsxs)("div",{className:"navbar-wrapper navbar-brand",children:[Object(I.jsx)("img",{height:"30px",src:"http://www.health.gov.lk/moh_final/english/images/logo.png",class:"img-responsive",style:{float:"left",margin:"0 10px"}}),Object(I.jsx)("div",{style:{},children:"    Ministry of Health"})]})]})})};var G,z=function(e){return Object(I.jsx)("footer",{className:"footer"+(e.default?" footer-default":""),children:Object(I.jsx)(b.a,{fluid:!!e.fluid,children:Object(I.jsx)(x.a,{children:Object(I.jsx)("div",{className:"credits ml-auto",children:Object(I.jsxs)("div",{className:"copyright",children:["\xa9 ",1900+(new Date).getYear()," Developed by University of Moratuwa"]})})})})})},V=a(118);a.p;var Y=function(e){var t=n.a.useRef();return n.a.useEffect((function(){return navigator.platform.indexOf("Win")>-1&&(G=new u.a(t.current,{suppressScrollX:!0,suppressScrollY:!1})),function(){navigator.platform.indexOf("Win")>-1&&G.destroy()}})),Object(I.jsxs)("div",{className:"sidebar","data-color":e.bgColor,"data-active-color":e.activeColor,children:[Object(I.jsxs)("div",{className:"logo",children:[Object(I.jsx)("a",{href:"",className:"simple-text logo-mini",children:Object(I.jsx)("div",{className:"logo-img",children:Object(I.jsx)("img",{style:{color:"white"},src:"https://www.pat.nhs.uk/Coronavirus/images/Covid%2019%20Icon.png",alt:"react-logo"})})}),Object(I.jsx)("a",{href:"",className:"simple-text logo-normal",children:"Covid Centres"})]}),Object(I.jsxs)("div",{className:"sidebar-wrapper",ref:t,children:[Object(I.jsx)(V.a,{children:e.routes.map((function(t,a){return Object(I.jsx)("li",{className:(r=t.path,(e.location.pathname.indexOf(r)>-1?"active":"")+(t.pro?" active-pro":"")),children:Object(I.jsxs)(i.b,{to:t.layout+t.path,className:"nav-link",activeClassName:"active",children:[Object(I.jsx)("i",{className:t.icon}),Object(I.jsx)("p",{children:t.name})]})},a);var r}))}),Object(I.jsx)("li",{style:{position:"absolute",bottom:"20px",width:"100%",textAlign:"center"},className:"active-pro",children:Object(I.jsxs)(k.a,{className:"active-pro",onClick:function(){localStorage.clear(),window.location.pathname="login"},children:[Object(I.jsx)(T.c,{}),"     Log Out"]})})]})]})};var Q;var X=function(e){var t=!1;function a(e){t=e}var r=n.a.useState("black"),c=Object(d.a)(r,2),s=c[0],i=(c[1],n.a.useState("info")),j=Object(d.a)(i,2),b=j[0],p=(j[1],n.a.useState([])),h=Object(d.a)(p,2),m=h[0],f=h[1],O=n.a.useRef(),x=Object(l.g)();return n.a.useEffect((function(){return navigator.platform.indexOf("Win")>-1&&(Q=new u.a(O.current),document.body.classList.toggle("perfect-scrollbar-on")),function(){navigator.platform.indexOf("Win")>-1&&(Q.destroy(),document.body.classList.toggle("perfect-scrollbar-on"))}})),n.a.useEffect((function(){"admin_dash"==e.user?f(K?K.filter((function(e){return"/dashboard"==e.path})):K):"admin"==e.user?f(K?K.filter((function(e){return"/update"!=e.path})):K):f(K?K.filter((function(e){return"/update"==e.path})):K),O.current.scrollTop=0,document.scrollingElement.scrollTop=0}),[x]),Object(I.jsx)(H.a,{active:t,spinner:!0,text:"Loading ...",children:Object(I.jsxs)("div",{className:"wrapper",children:[Object(I.jsx)(Y,Object(o.a)(Object(o.a)({},e),{},{routes:m,bgColor:s,activeColor:b})),Object(I.jsxs)("div",{className:"main-panel",ref:O,children:[Object(I.jsx)(_,Object(o.a)({},e)),Object(I.jsx)(l.d,{children:m.map((function(t,r){return Object(I.jsx)(l.b,{path:t.layout+t.path,component:function(){return Object(I.jsx)(t.component,{user:e.user,setActive:a})}},r)}))}),Object(I.jsx)(z,{fluid:!0})]})]})})};a(289),a(290),a(291),a(292);var Z=function(e){var t=e.setToken,a=e.setUser,c=n.a.useRef(),s=function(e,t,a){var r;switch(a){case 1:r="primary";break;case 2:r="success";break;case 3:r="danger";break;case 4:r="warning";break;case 5:r="info"}var n;n={place:e,message:Object(I.jsx)("div",{children:Object(I.jsx)("div",{children:t})}),type:r,icon:"nc-icon nc-bell-55",autoDismiss:7},c.current.notificationAlert(n)};function o(e){return i.apply(this,arguments)}function i(){return(i=Object(O.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(" http://203.94.76.62:5100/login",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(t.username+":"+t.password)}}).then((function(e){return e.json()})).catch((function(e){return console.log("bc","Invalid Login : "+String(e),3)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var l=Object(r.useState)(),u=Object(d.a)(l,2),j=u[0],b=u[1],p=Object(r.useState)(),h=Object(d.a)(p,2),m=h[0],S=h[1],N=function(){var e=Object(O.a)(f.a.mark((function e(r){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),j&&m){e.next=4;break}return s("bc","Empty fields not allowed",3),e.abrupt("return");case 4:return e.next=6,o({username:j,password:m});case 6:(n=e.sent)?(n.data.length>0?(localStorage.setItem("data",JSON.stringify(n.data[0])),a(n.data[0].username)):a(j),s("bc","Successfully logged in as : "+j,2),t(n.token)):(console.log("error"),s("bc","Invalid Login Credentials",3));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{className:"content",style:{margin:"10% 0"},children:[Object(I.jsx)(R.a,{ref:c}),Object(I.jsx)(x.a,{style:{alignContent:"center"},children:Object(I.jsx)(g.a,{md:{size:4,order:2,offset:4},children:Object(I.jsxs)(v.a,{className:"demo-icons",children:[Object(I.jsx)(C.a,{children:Object(I.jsx)(y.a,{tag:"h5",children:"Login"})}),Object(I.jsx)(w.a,{className:"all-icons",children:Object(I.jsx)("div",{class:"row",children:Object(I.jsxs)("div",{class:"col-md-12",children:[Object(I.jsxs)("div",{class:"form-group",children:[Object(I.jsx)("label",{for:"exampleForm.ControlInput1",class:"form-label",children:"Username"}),Object(I.jsx)("input",{placeholder:"Username",onChange:function(e){return b(e.target.value)},type:"text",id:"exampleForm.ControlInput1",class:"form-control"})]}),Object(I.jsxs)("div",{class:"form-group",children:[Object(I.jsx)("label",{for:"exampleForm.ControlInput1",class:"form-label",children:"Password"}),Object(I.jsx)("input",{placeholder:"Password",onChange:function(e){return S(e.target.value)},type:"password",id:"exampleForm.ControlInput1",class:"form-control"})]}),Object(I.jsx)("div",{class:"form-group",children:Object(I.jsx)("button",{type:"button",onClick:N,class:"btn btn-primary",children:"Submit"})})]})})})]})})})]})})};var q=function(){var e=function(){var e=Object(r.useState)(function(){var e=localStorage.getItem("user");return JSON.parse(e)}()),t=Object(d.a)(e,2),a=t[0],n=t[1];return{setUser:function(e){localStorage.setItem("user",JSON.stringify(e)),n(e)},user:a}}(),t=e.user,a=e.setUser,n=function(){var e=Object(r.useState)(function(){var e=localStorage.getItem("token");return JSON.parse(e)}()),t=Object(d.a)(e,2),a=t[0],n=t[1];return{setToken:function(e){localStorage.setItem("token",JSON.stringify(e)),n(e)},token:a}}(),c=n.token,s=n.setToken;return c?Object(I.jsx)(i.a,{children:Object(I.jsxs)(l.d,{children:[Object(I.jsx)(l.b,{path:"/admin",render:function(e){return Object(I.jsx)(X,Object(o.a)({user:t},e))}}),"admin"==t||"admin_dash"==t?Object(I.jsx)(l.a,{to:"/admin/dashboard"}):Object(I.jsx)(l.a,{to:"/admin/update"})]})}):Object(I.jsx)(Z,{setToken:s,setUser:a})};s.a.render(Object(I.jsx)(q,{}),document.getElementById("root"))}},[[294,1,2]]]);
//# sourceMappingURL=main.e7217bc5.chunk.js.map