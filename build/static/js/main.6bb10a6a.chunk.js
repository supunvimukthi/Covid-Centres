/*!

=========================================================
* Paper Dashboard React - v1.3.0
=========================================================

* Product Page: https://www.creative-tim.com/product/paper-dashboard-react
* Copyright 2021 Creative Tim (http://www.creative-tim.com)

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

*/
/*! For license information please see main.6bb10a6a.chunk.js.LICENSE.txt */
(this["webpackJsonppaper-dashboard-react"]=this["webpackJsonppaper-dashboard-react"]||[]).push([[0],{246:function(e,t){e.exports={dashboard24HoursPerformanceChart:{data:function(e){return{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct"],datasets:[{borderColor:"#6bd098",backgroundColor:"#6bd098",pointRadius:0,pointHoverRadius:0,borderWidth:3,tension:.4,fill:!0,data:[300,310,316,322,330,326,333,345,338,354]},{borderColor:"#f17e5d",backgroundColor:"#f17e5d",pointRadius:0,pointHoverRadius:0,borderWidth:3,tension:.4,fill:!0,data:[320,340,365,360,370,385,390,384,408,420]},{borderColor:"#fcc468",backgroundColor:"#fcc468",pointRadius:0,pointHoverRadius:0,borderWidth:3,tension:.4,fill:!0,data:[370,394,415,409,425,445,460,450,478,484]}]}},options:{plugins:{legend:{display:!1},tooltip:{enabled:!1}},scales:{y:{ticks:{color:"#9f9f9f",beginAtZero:!1,maxTicksLimit:5},grid:{drawBorder:!1,display:!1}},x:{barPercentage:1.6,grid:{drawBorder:!1,display:!1},ticks:{padding:20,color:"#9f9f9f"}}}}},dashboardEmailStatisticsChart:{data:function(e){return{labels:[1,2,3],datasets:[{label:"Emails",pointRadius:0,pointHoverRadius:0,backgroundColor:["#e3e3e3","#4acccd","#fcc468","#ef8157"],borderWidth:0,data:[342,480,530,120]}]}},options:{plugins:{legend:{display:!1},tooltip:{enabled:!1}},maintainAspectRatio:!1,pieceLabel:{render:"percentage",fontColor:["white"],precision:2},scales:{y:{ticks:{display:!1},grid:{drawBorder:!1,display:!1}},x:{barPercentage:1.6,grid:{drawBorder:!1,display:!1},ticks:{display:!1}}}}},dashboardNASDAQChart:{data:function(e){return{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{data:[0,19,15,20,30,40,40,50,25,30,50,70],fill:!1,borderColor:"#fbc658",backgroundColor:"transparent",pointBorderColor:"#fbc658",pointRadius:4,pointHoverRadius:4,pointBorderWidth:8,tension:.4},{data:[0,5,10,12,20,27,30,34,42,45,55,63],fill:!1,borderColor:"#51CACF",backgroundColor:"transparent",pointBorderColor:"#51CACF",pointRadius:4,pointHoverRadius:4,pointBorderWidth:8,tension:.4}]}},options:{plugins:{legend:{display:!1}}}}}},278:function(e,t,a){},279:function(e,t,a){},282:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(25),s=a.n(c),o=a(22),i=a(36),l=a(15),d=a(11),j=a(54),u=a(113),b=a(112),p=a(114),h=a(17),m=a(13),O=a.n(m),x=a(16),f=(a(281),a(103)),g=a(104),v=a(105),w=a(106),y=a(107),S=a(108),C=a(109),N=a(110),k=a(284),F=(a(246),a(31)),T=(a(247),a(3));function A(){return I.apply(this,arguments)}function I(){return(I=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(" http://203.94.76.62:5100/v1/covid/centres",{method:"GET",headers:{"Content-Type":"application/json","x-access-tokens":JSON.parse(localStorage.getItem("token"))}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var J=function(e){var t=Object(r.useState)([]),a=Object(d.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(),o=Object(d.a)(s,2),i=o[0],l=o[1],j=Object(r.useState)("password"),u=Object(d.a)(j,2),b=u[0];return u[1],Object(r.useEffect)(Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:"error"in(t=e.sent)&&"Signature has expired"==t.error&&(localStorage.clear(),window.location.pathname="login"),console.log(t),c(t.results),l(new Date),console.log(n);case 8:case"end":return e.stop()}}),e)}))),[]),Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("div",{className:"content",children:[Object(T.jsxs)(f.a,{children:[Object(T.jsx)(g.a,{lg:"6",md:"6",sm:"6",children:Object(T.jsxs)(v.a,{className:"card-stats",children:[Object(T.jsx)(w.a,{children:Object(T.jsxs)(f.a,{children:[Object(T.jsx)(g.a,{md:"4",xs:"5",children:Object(T.jsx)("div",{className:"icon-big text-center icon-warning",children:Object(T.jsx)(F.a,{color:"black"})})}),Object(T.jsx)(g.a,{md:"8",xs:"7",children:Object(T.jsxs)("div",{className:"numbers",children:[Object(T.jsx)("p",{className:"card-category",children:"Available Beds"}),Object(T.jsx)(y.a,{tag:"p",children:n.map((function(e){return"not updated"!=e.beds?e.beds:0})).reduce((function(e,t){return e+t}),0)}),Object(T.jsx)("p",{})]})})]})}),Object(T.jsxs)(S.a,{children:[Object(T.jsx)("hr",{}),Object(T.jsxs)("div",{className:"stats",children:[Object(T.jsx)("i",{className:"fas fa-sync-alt"})," Updated ",i?i.toTimeString():""]})]})]})}),Object(T.jsx)(g.a,{lg:"6",md:"6",sm:"6",children:Object(T.jsxs)(v.a,{className:"card-stats",children:[Object(T.jsx)(w.a,{children:Object(T.jsxs)(f.a,{children:[Object(T.jsx)(g.a,{md:"4",xs:"5",children:Object(T.jsx)("div",{className:"icon-big text-center icon-warning",children:Object(T.jsx)(F.b,{})})}),Object(T.jsx)(g.a,{md:"8",xs:"7",children:Object(T.jsxs)("div",{className:"numbers",children:[Object(T.jsx)("p",{className:"card-category",children:"Covid Centres"}),Object(T.jsx)(y.a,{tag:"p",children:n.length}),Object(T.jsx)("p",{})]})})]})}),Object(T.jsxs)(S.a,{children:[Object(T.jsx)("hr",{}),Object(T.jsxs)("div",{className:"stats",children:[Object(T.jsx)("i",{className:"far fa-calendar"})," Updated ",i?i.toTimeString():""]})]})]})})]}),Object(T.jsx)(f.a,{children:Object(T.jsx)(g.a,{md:"12",children:Object(T.jsxs)(v.a,{children:[Object(T.jsxs)(C.a,{children:[Object(T.jsx)(y.a,{tag:"h4",children:"Available Beds in Covid Centres"}),Object(T.jsx)("p",{className:"card-category",children:"This table shows the latest available bed count in each covid centre in Sri Lanka"})]}),Object(T.jsx)(w.a,{children:Object(T.jsxs)(N.a,{responsive:!0,children:[Object(T.jsx)("thead",{className:"text-primary",children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{children:"Name"}),Object(T.jsx)("th",{children:"Location"}),Object(T.jsx)("th",{children:"Available Beds"}),Object(T.jsx)("th",{children:"Updated at"}),Object(T.jsx)("th",{children:"Notes"}),"admin_dash"!=e.user&&Object(T.jsx)("th",{children:"username"}),"admin_dash"!=e.user&&Object(T.jsx)("th",{children:"password"})]})}),Object(T.jsx)("tbody",{children:n.map((function(t){var a;return Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:t.name}),Object(T.jsxs)("td",{children:[t.location," - ",t.province]}),Object(T.jsx)("td",{children:t.beds}),Object(T.jsx)("td",{children:t.updated?Object(k.a)(new Date(t.updated),new Date,{addSuffix:!0}):""}),Object(T.jsx)("td",{children:t.desc}),"admin_dash"!=e.user&&Object(T.jsx)("td",{children:t.username}),"admin_dash"!=e.user&&Object(T.jsxs)("td",{children:[Object(T.jsx)("input",(a={type:b,id:t.username},Object(h.a)(a,"type","password"),Object(h.a)(a,"value",t.password),a)),Object(T.jsx)("button",{children:Object(T.jsx)("span",{onClick:function(){var e=document.getElementById(t.username);"password"==e.type?e.type="text":e.type="password"},toggle:"#password-field",class:"fa fa-fw fa-eye field-icon toggle-password"})})]})]},t.username)}))})]})})]})})})]})})},E=(a(111),a(53),a(28)),D=a.n(E);function B(e){return R.apply(this,arguments)}function R(){return(R=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.abrupt("return",fetch(" http://203.94.76.62:5100/v1/covid/centre",{method:"POST",headers:{"Content-Type":"application/json","x-access-tokens":JSON.parse(localStorage.getItem("token"))},body:JSON.stringify({name:t.name,district:t.district,province:t.province,contact:t.contact,username:t.username,password:t.password})}).then((function(e){return e.json()})).catch((function(e){return notify("bc",String(e),3)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=function(){var e=n.a.useRef(),t=function(t,a,r){var n;switch(r){case 1:n="primary";break;case 2:n="success";break;case 3:n="danger";break;case 4:n="warning";break;case 5:n="info"}var c;c={place:t,message:Object(T.jsx)("div",{children:Object(T.jsx)("div",{children:a})}),type:n,icon:"nc-icon nc-bell-55",autoDismiss:7},e.current.notificationAlert(c)},a=Object(r.useState)(),c=Object(d.a)(a,2),s=c[0],o=c[1],i=Object(r.useState)("Northern"),l=Object(d.a)(i,2),j=l[0],u=l[1],b=Object(r.useState)(),p=Object(d.a)(b,2),h=p[0],m=p[1],S=Object(r.useState)(""),N=Object(d.a)(S,2),k=N[0],F=N[1],A=Object(r.useState)(),I=Object(d.a)(A,2),J=I[0],E=I[1],R=Object(r.useState)(),U=Object(d.a)(R,2),L=U[0],P=U[1],M=function(){var e=Object(x.a)(O.a.mark((function e(a){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),console.log(J,j),s&&h&&j&&J&&L){e.next=5;break}return t("bc","Empty Fields are not allowed (except contact)",3),e.abrupt("return");case 5:return e.next=7,B({name:s,province:j,district:h,contact:k,username:J,password:L});case 7:"error"in(r=e.sent)&&"Signature has expired"==r.error&&(localStorage.clear(),window.location.pathname="login"),"error"in r?t("bc",r.error,3):(o(""),F(0),E(""),P(""),t("bc",r.message,2));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("div",{className:"content",children:[Object(T.jsx)(D.a,{ref:e}),Object(T.jsx)(f.a,{children:Object(T.jsx)(g.a,{md:"12",children:Object(T.jsxs)(v.a,{className:"demo-icons",children:[Object(T.jsx)(C.a,{children:Object(T.jsx)(y.a,{tag:"h5",children:"New Covid Centre"})}),Object(T.jsx)(w.a,{className:"all-icons",children:Object(T.jsx)("div",{class:"row",children:Object(T.jsxs)("div",{class:"col-md-12",children:[Object(T.jsxs)("div",{class:"form-group",children:[Object(T.jsxs)("label",{for:"exampleForm.ControlInput1",class:"form-label",children:["Name",Object(T.jsx)("b",{children:"*"})]}),Object(T.jsx)("input",{value:s,onChange:function(e){return o(e.target.value)},placeholder:"Name of the Covid centre",type:"text",id:"exampleForm.ControlInput1",class:"form-control"})]}),Object(T.jsxs)("div",{class:"form-group",children:[Object(T.jsxs)("label",{for:"exampleForm.ControlSelect1",class:"form-label",children:["Select Province",Object(T.jsx)("b",{children:"*"})]}),Object(T.jsxs)("select",{value:j,onChange:function(e){return u(e.target.value)},id:"exampleForm.ControlSelect1",class:"form-control",children:[Object(T.jsx)("option",{children:"Northern"}),Object(T.jsx)("option",{children:"North Western"}),Object(T.jsx)("option",{children:"Western"}),Object(T.jsx)("option",{children:"North Central"}),Object(T.jsx)("option",{children:"Central"}),Object(T.jsx)("option",{children:"Sabaragamuwa"}),Object(T.jsx)("option",{children:"Eastern"}),Object(T.jsx)("option",{children:"Uva"}),Object(T.jsx)("option",{children:"Southern"})]})]}),Object(T.jsxs)("div",{class:"form-group",children:[Object(T.jsxs)("label",{for:"exampleForm.ControlSelect1",class:"form-label",children:["Select District",Object(T.jsx)("b",{children:"*"})]}),Object(T.jsx)("select",{value:h,onChange:function(e){return m(e.target.value)},id:"exampleForm.ControlSelect1",class:"form-control",children:j?{Western:["Gampaha","Colombo","Kaluthara"],Northern:["Jaffna","Kilinochchi","Mannar","Mulativ","Vavuniya"],"North Western":["Puttalam","Kurunegala"],"North Central":["Anuradhapura","Polonnaruwa"],Central:["Matale","Kandy","Nuwara Eliya"],Sabaragamuwa:["Kegalle","Ratnapura"],Eastern:["Trincomalee","Batticaloa","Ampara"],Uva:["Badulla","Monaragala"],Southern:["Galle","Matara","Hambanthota"]}[j].map((function(e){return Object(T.jsx)("option",{children:e})})):["Gampaha","Colombo","Kaluthara","Jaffna","Kilinochchi","Mannar","Mulativ","Vavuniya","Puttalam","Kurunegala","Anuradhapura","Polonnaruwa","Matale","Kandy","Nuwara Eliya","Kegalle","Ratnapura","Trincomalee","Batticaloa","Ampara","Badulla","Monaragala","Galle","Matara","Hambanthota"].map((function(e){return Object(T.jsx)("option",{children:e})}))})]}),Object(T.jsxs)("div",{class:"form-group",children:[Object(T.jsx)("label",{for:"exampleForm.ControlInput1",class:"form-label",children:"Contact Number"}),Object(T.jsx)("input",{value:k,onChange:function(e){return F(e.target.value)},placeholder:"Contact Number for the covid centre",type:"text",id:"exampleForm.ControlInput1",class:"form-control"})]}),Object(T.jsxs)("div",{class:"form-group",children:[Object(T.jsxs)("label",{for:"exampleForm.ControlInput1",class:"form-label",children:["Username",Object(T.jsx)("b",{children:"*"})]}),Object(T.jsx)("input",{value:J,onChange:function(e){return E(e.target.value)},placeholder:"Username for the covid centre",type:"text",id:"exampleForm.ControlInput1",class:"form-control"})]}),Object(T.jsxs)("div",{class:"form-group",children:[Object(T.jsxs)("label",{for:"exampleForm.ControlInput1",class:"form-label",children:["Password",Object(T.jsx)("b",{children:"*"})]}),Object(T.jsx)("input",{value:L,onChange:function(e){return P(e.target.value)},placeholder:"password for the covid centre",type:"text",id:"exampleForm.ControlInput1",class:"form-control"})]}),Object(T.jsx)("div",{class:"form-group",children:Object(T.jsx)("button",{onClick:M,type:"button",class:"btn btn-primary",children:"Submit"})})]})})})]})})})]})})},L=a(283);var P=function(){var e=n.a.useRef(),t=function(t,a,r){var n;switch(r){case 1:n="primary";break;case 2:n="success";break;case 3:n="danger";break;case 4:n="warning";break;case 5:n="info"}var c;c={place:t,message:Object(T.jsx)("div",{children:Object(T.jsx)("div",{children:a})}),type:n,icon:"nc-icon nc-bell-55",autoDismiss:7},e.current.notificationAlert(c)};function a(e){return c.apply(this,arguments)}function c(){return(c=Object(x.a)(O.a.mark((function e(a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),e.abrupt("return",fetch(" http://203.94.76.62:5100/v1/covid/centre/bed",{method:"POST",headers:{"Content-Type":"application/json","x-access-tokens":JSON.parse(localStorage.getItem("token"))},body:JSON.stringify({beds:Number(a.beds),time:(new Date).getTime(),desc:a.note,username:JSON.parse(localStorage.getItem("data")).username})}).then((function(e){return e.json()})).catch((function(e){return t("bc",String(e),3)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return o.apply(this,arguments)}function o(){return(o=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(" http://203.94.76.62:5100/v1/covid/centre/beds",{method:"GET",headers:{"Content-Type":"application/json","x-access-tokens":JSON.parse(localStorage.getItem("token"))}}).then((function(e){return e.json()})).catch((function(e){return t("bc",String(e),3)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var i=Object(r.useState)(""),l=Object(d.a)(i,2),j=l[0],u=l[1],b=Object(r.useState)(""),p=Object(d.a)(b,2),h=p[0],m=p[1],S=Object(r.useState)(),k=Object(d.a)(S,2),F=k[0],A=k[1],I=Object(r.useState)(""),J=Object(d.a)(I,2),E=J[0],B=J[1],R=Object(r.useState)([]),U=Object(d.a)(R,2),P=U[0],M=U[1],W=function(){var e=Object(x.a)(O.a.mark((function e(r){var n,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,a({beds:F,note:E});case 3:return"error"in(n=e.sent)&&"Signature has expired"==n.error&&(localStorage.clear(),window.location.pathname="login"),"error"in n?t("bc",n.error,3):t("bc",n.results,2),e.next=8,s();case 8:"error"in(c=e.sent)&&"Signature has expired"==c.error&&(localStorage.clear(),window.location.pathname="login"),M(c.results.reverse()),A(0),B("");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)(Object(x.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:"error"in(t=e.sent)&&"Signature has expired"==t.error&&(localStorage.clear(),window.location.pathname="login"),M(t.results.reverse()),P.length,a=JSON.parse(localStorage.getItem("data")),u(a.location+" - "+a.province),m(a.name);case 9:case"end":return e.stop()}}),e)}))),[]),Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("div",{className:"content",children:[Object(T.jsx)(D.a,{ref:e}),Object(T.jsx)(f.a,{children:Object(T.jsx)(g.a,{md:"12",children:Object(T.jsxs)(v.a,{className:"demo-icons",children:[Object(T.jsx)(C.a,{children:Object(T.jsxs)(y.a,{tag:"h5",children:["Update available beds for ",h," in ",j]})}),Object(T.jsx)(w.a,{className:"all-icons",children:Object(T.jsx)("div",{class:"row",children:Object(T.jsxs)("div",{class:"col-md-12",children:[Object(T.jsxs)("div",{class:"form-group",children:[Object(T.jsx)("label",{for:"exampleForm.ControlSelect1",class:"form-label",children:"Select Covid Centre"}),Object(T.jsx)("select",{id:"exampleForm.ControlSelect1",class:"form-control",children:Object(T.jsx)("option",{children:h})})]}),Object(T.jsxs)("div",{class:"form-group",children:[Object(T.jsx)("label",{for:"exampleForm.ControlInput1",class:"form-label",children:"Available Beds"}),Object(T.jsx)("input",{value:F,onChange:function(e){return A(e.target.value)},placeholder:"Number of beds available",type:"number",id:"exampleForm.ControlInput1",class:"form-control"})]}),Object(T.jsxs)("div",{class:"form-group",children:[Object(T.jsx)("label",{for:"exampleForm.ControlTextarea1",class:"form-label",children:"Additional Note"}),Object(T.jsx)("textarea",{value:E,onChange:function(e){return B(e.target.value)},rows:"3",id:"exampleForm.ControlTextarea1",class:"form-control"}),Object(T.jsx)("button",{onClick:W,type:"button",class:"btn btn-primary",children:"Submit"})]})]})})})]})})}),Object(T.jsx)(f.a,{children:Object(T.jsx)(g.a,{md:"12",children:Object(T.jsxs)(v.a,{children:[Object(T.jsxs)(C.a,{children:[Object(T.jsx)(y.a,{tag:"h4",children:"Past Data Logs"}),Object(T.jsx)("p",{className:"card-category",children:"This table shows data updates in the past"})]}),Object(T.jsx)(w.a,{children:Object(T.jsxs)(N.a,{responsive:!0,children:[Object(T.jsx)("thead",{className:"text-primary",children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{children:"Updated at"}),Object(T.jsx)("th",{children:"Number of beds"}),Object(T.jsx)("th",{children:"Note"})]})}),Object(T.jsx)("tbody",{children:P.map((function(e){return Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:Object(L.a)(new Date(e.time),new Date)}),Object(T.jsx)("td",{children:e.beds}),Object(T.jsx)("td",{children:e.desc})]})}))})]})})]})})})]})})},M=a(76),W=a.n(M);var H=[{path:"/update",name:"Update Beds",icon:"nc-icon nc-share-66",component:P,layout:"/admin"},{path:"/dashboard",name:"Covid Centres",icon:"nc-icon nc-bank",component:J,layout:"/admin"},{path:"/add",name:"Add Covid Centre",icon:"nc-icon nc-simple-add",component:U,layout:"/admin"},{path:"/updatebeds",name:"Update Beds",icon:"nc-icon nc-share-66",component:function(e){var t=n.a.useRef(),a=function(e,a,r){var n;switch(r){case 1:n="primary";break;case 2:n="success";break;case 3:n="danger";break;case 4:n="warning";break;case 5:n="info"}var c;c={place:e,message:Object(T.jsx)("div",{children:Object(T.jsx)("div",{children:a})}),type:n,icon:"nc-icon nc-bell-55",autoDismiss:7},t.current.notificationAlert(c)};function c(){return s.apply(this,arguments)}function s(){return(s=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(" http://203.94.76.62:5100/v1/covid/centres",{method:"GET",headers:{"Content-Type":"application/json","x-access-tokens":JSON.parse(localStorage.getItem("token"))}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(e){return i.apply(this,arguments)}function i(){return(i=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.abrupt("return",fetch(" http://203.94.76.62:5100/v1/covid/centre/bed",{method:"POST",headers:{"Content-Type":"application/json","x-access-tokens":JSON.parse(localStorage.getItem("token"))},body:JSON.stringify({beds:Number(t.beds),time:(new Date).getTime(),desc:t.note,username:H.username})}).then((function(e){return e.json()})).catch((function(e){return a("bc",String(e),3)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return j.apply(this,arguments)}function j(){return(j=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(" http://203.94.76.62:5100/v1/covid/centre/beds",{method:"POST",headers:{"Content-Type":"application/json","x-access-tokens":JSON.parse(localStorage.getItem("token"))},body:JSON.stringify({username:t})}).then((function(e){return e.json()})).catch((function(e){return a("bc",String(e),3)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var u=Object(r.useState)(""),b=Object(d.a)(u,2),p=(b[0],b[1],Object(r.useState)("")),h=Object(d.a)(p,2),m=(h[0],h[1],Object(r.useState)()),S=Object(d.a)(m,2),k=S[0],F=S[1],A=Object(r.useState)(""),I=Object(d.a)(A,2),J=I[0],E=I[1],B=Object(r.useState)([]),R=Object(d.a)(B,2),U=R[0],P=R[1],M=Object(r.useState)(),W=Object(d.a)(M,2),H=W[0],K=W[1],G=Object(r.useState)([]),_=Object(d.a)(G,2),z=_[0],V=_[1],Y=function(){var t=Object(x.a)(O.a.mark((function t(r){var n,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.next=3,o({beds:k,note:J});case 3:return"error"in(n=t.sent)&&"Signature has expired"==n.error&&(localStorage.clear(),window.location.pathname="login"),"error"in n?a("bc",n.error,3):a("bc",n.results,2),e.setActive(!0),t.next=9,l(H.username);case 9:"error"in(c=t.sent)&&"Signature has expired"==c.error&&(localStorage.clear(),window.location.pathname="login"),e.setActive(!1),P(c.results.reverse()),F(0),E("");case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)(Object(x.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setActive(!0),c().then((function(t){"error"in t&&"Signature has expired"==t.error&&(localStorage.clear(),window.location.pathname="login"),console.log(t.results[1]),V(t.results),K(t.results[1]),console.log(H),l(t.results[1].username).then((function(t){e.setActive(!1),console.log(t),P(t.results.reverse())}))}));case 2:case"end":return t.stop()}}),t)}))),[]),Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("div",{className:"content",children:[Object(T.jsx)(D.a,{ref:t}),Object(T.jsx)(f.a,{children:Object(T.jsx)(g.a,{md:"12",children:Object(T.jsxs)(v.a,{className:"demo-icons",children:[Object(T.jsx)(C.a,{children:Object(T.jsxs)(y.a,{tag:"h5",children:["Update available beds for ",H?H.name:""," in ",(H?H.location:"")+" - "+(H?H.province:"")]})}),Object(T.jsx)(w.a,{className:"all-icons",children:Object(T.jsx)("div",{class:"row",children:Object(T.jsxs)("div",{class:"col-md-12",children:[Object(T.jsxs)("div",{class:"form-group",children:[Object(T.jsx)("label",{for:"exampleForm.ControlSelect1",class:"form-label",children:"Select Covid Centre"}),Object(T.jsx)("select",{value:H?H.name:"",onChange:function(t){e.setActive(!0),K(z.find((function(e){return e.name==t.target.value}))),l(z.find((function(e){return e.name==t.target.value})).username).then((function(t){"error"in t&&"Signature has expired"==t.error&&(localStorage.clear(),window.location.pathname="login"),console.log(t),e.setActive(!1),P(t.results.reverse())}))},id:"exampleForm.ControlSelect1",class:"form-control",children:z.map((function(e){return Object(T.jsx)("option",{children:e.name})}))})]}),Object(T.jsxs)("div",{class:"form-group",children:[Object(T.jsx)("label",{for:"exampleForm.ControlInput1",class:"form-label",children:"Available Beds"}),Object(T.jsx)("input",{value:k,onChange:function(e){return F(e.target.value)},placeholder:"Number of beds available",type:"number",id:"exampleForm.ControlInput1",class:"form-control"})]}),Object(T.jsxs)("div",{class:"form-group",children:[Object(T.jsx)("label",{for:"exampleForm.ControlTextarea1",class:"form-label",children:"Additional Note"}),Object(T.jsx)("textarea",{value:J,onChange:function(e){return E(e.target.value)},rows:"3",id:"exampleForm.ControlTextarea1",class:"form-control"}),Object(T.jsx)("button",{onClick:Y,type:"button",class:"btn btn-primary",children:"Submit"})]})]})})})]})})}),Object(T.jsx)(f.a,{children:Object(T.jsx)(g.a,{md:"12",children:Object(T.jsxs)(v.a,{children:[Object(T.jsxs)(C.a,{children:[Object(T.jsx)(y.a,{tag:"h4",children:"Past Data Logs"}),Object(T.jsx)("p",{className:"card-category",children:"This table shows data updates in the past"})]}),Object(T.jsx)(w.a,{children:Object(T.jsxs)(N.a,{responsive:!0,children:[Object(T.jsx)("thead",{className:"text-primary",children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{children:"Updated at"}),Object(T.jsx)("th",{children:"Number of beds"}),Object(T.jsx)("th",{children:"Note"})]})}),Object(T.jsx)("tbody",{children:U.map((function(e){return Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:Object(L.a)(new Date(e.time),new Date)}),Object(T.jsx)("td",{children:e.beds}),Object(T.jsx)("td",{children:e.desc})]})}))})]})})]})})})]})})},layout:"/admin"}];var K=function(e){var t=this,a=n.a.useState(!1),r=Object(d.a)(a,2),c=r[0],s=(r[1],n.a.useState(!1)),o=Object(d.a)(s,2),i=(o[0],o[1],n.a.useState("transparent")),j=Object(d.a)(i,2),h=j[0],m=j[1],O=n.a.useRef(),x=Object(l.g)(),f=function(){window.innerWidth<993&&c?m("dark"):m("transparent")};return n.a.useEffect((function(){window.addEventListener("resize",f.bind(t))})),n.a.useEffect((function(){window.innerWidth<993&&-1!==document.documentElement.className.indexOf("nav-open")&&(document.documentElement.classList.toggle("nav-open"),O.current.classList.toggle("toggled"))}),[x]),Object(T.jsx)(u.a,{color:-1!==e.location.pathname.indexOf("full-screen-maps")?"dark":h,expand:"lg",className:-1!==e.location.pathname.indexOf("full-screen-maps")?"navbar-absolute fixed-top":"navbar-absolute fixed-top "+("transparent"===h?"navbar-transparent ":""),children:Object(T.jsxs)(b.a,{fluid:!0,children:[Object(T.jsxs)("div",{className:"navbar-wrapper",children:[Object(T.jsx)("div",{className:"navbar-toggle",children:Object(T.jsxs)("button",{type:"button",ref:O,className:"navbar-toggler",onClick:function(){return document.documentElement.classList.toggle("nav-open"),void O.current.classList.toggle("toggled")},children:[Object(T.jsx)("span",{className:"navbar-toggler-bar bar1"}),Object(T.jsx)("span",{className:"navbar-toggler-bar bar2"}),Object(T.jsx)("span",{className:"navbar-toggler-bar bar3"})]})}),Object(T.jsx)(p.a,{href:"/",children:function(){var e="Default Brand";return H.map((function(t,a){return-1!==window.location.href.indexOf(t.layout+t.path)&&(e=t.name),null})),e}()})]}),Object(T.jsxs)("div",{className:"navbar-wrapper navbar-brand",children:[Object(T.jsx)("img",{height:"30px",src:"http://www.health.gov.lk/moh_final/english/images/logo.png",class:"img-responsive",style:{float:"left",margin:"0 10px"}}),Object(T.jsx)("div",{style:{},children:"    Ministry of Health"})]})]})})};var G,_=function(e){return Object(T.jsx)("footer",{className:"footer"+(e.default?" footer-default":""),children:Object(T.jsx)(b.a,{fluid:!!e.fluid,children:Object(T.jsx)(f.a,{children:Object(T.jsx)("div",{className:"credits ml-auto",children:Object(T.jsxs)("div",{className:"copyright",children:["\xa9 ",1900+(new Date).getYear()," Developed by University of Moratuwa"]})})})})})},z=a(115),V=a(35);a.p;var Y=function(e){var t=n.a.useRef();return n.a.useEffect((function(){return navigator.platform.indexOf("Win")>-1&&(G=new j.a(t.current,{suppressScrollX:!0,suppressScrollY:!1})),function(){navigator.platform.indexOf("Win")>-1&&G.destroy()}})),Object(T.jsxs)("div",{className:"sidebar","data-color":e.bgColor,"data-active-color":e.activeColor,children:[Object(T.jsxs)("div",{className:"logo",children:[Object(T.jsx)("a",{href:"",className:"simple-text logo-mini",children:Object(T.jsx)("div",{className:"logo-img",children:Object(T.jsx)("img",{style:{color:"white"},src:"https://www.pat.nhs.uk/Coronavirus/images/Covid%2019%20Icon.png",alt:"react-logo"})})}),Object(T.jsx)("a",{href:"",className:"simple-text logo-normal",children:"Covid Centres"})]}),Object(T.jsxs)("div",{className:"sidebar-wrapper",ref:t,children:[Object(T.jsx)(z.a,{children:e.routes.map((function(t,a){return Object(T.jsx)("li",{className:(r=t.path,(e.location.pathname.indexOf(r)>-1?"active":"")+(t.pro?" active-pro":"")),children:Object(T.jsxs)(i.b,{to:t.layout+t.path,className:"nav-link",activeClassName:"active",children:[Object(T.jsx)("i",{className:t.icon}),Object(T.jsx)("p",{children:t.name})]})},a);var r}))}),Object(T.jsx)("li",{style:{position:"absolute",bottom:"20px",width:"100%",textAlign:"center"},className:"active-pro",children:Object(T.jsxs)(V.a,{className:"active-pro",onClick:function(){localStorage.clear(),window.location.pathname="login"},children:[Object(T.jsx)(F.c,{}),"     Log Out"]})})]})]})};var Q;var X=function(e){var t=!1;function a(e){t=e,console.log(e)}var r=n.a.useState("black"),c=Object(d.a)(r,2),s=c[0],i=(c[1],n.a.useState("info")),u=Object(d.a)(i,2),b=u[0],p=(u[1],n.a.useState([])),h=Object(d.a)(p,2),m=h[0],O=h[1],x=n.a.useRef(),f=Object(l.g)();return n.a.useEffect((function(){return navigator.platform.indexOf("Win")>-1&&(Q=new j.a(x.current),document.body.classList.toggle("perfect-scrollbar-on")),function(){navigator.platform.indexOf("Win")>-1&&(Q.destroy(),document.body.classList.toggle("perfect-scrollbar-on"))}})),n.a.useEffect((function(){console.log(e.user),"admin_dash"==e.user?(console.log(e.user),O(H?H.filter((function(e){return"/dashboard"==e.path})):H),console.log(m)):"admin"==e.user?O(H?H.filter((function(e){return"/update"!=e.path})):H):(O(H?H.filter((function(e){return"/update"==e.path})):H),console.log(m)),x.current.scrollTop=0,document.scrollingElement.scrollTop=0}),[f]),Object(T.jsx)(W.a,{active:t,spinner:!0,text:"Loading ...",children:Object(T.jsxs)("div",{className:"wrapper",children:[Object(T.jsx)(Y,Object(o.a)(Object(o.a)({},e),{},{routes:m,bgColor:s,activeColor:b})),Object(T.jsxs)("div",{className:"main-panel",ref:x,children:[Object(T.jsx)(K,Object(o.a)({},e)),Object(T.jsx)(l.d,{children:m.map((function(t,r){return Object(T.jsx)(l.b,{path:t.layout+t.path,component:function(){return Object(T.jsx)(t.component,{user:e.user,setActive:a})}},r)}))}),Object(T.jsx)(_,{fluid:!0})]})]})})};a(277),a(278),a(279),a(280);var Z=function(e){var t=e.setToken,a=e.setUser,c=n.a.useRef(),s=function(e,t,a){var r;switch(a){case 1:r="primary";break;case 2:r="success";break;case 3:r="danger";break;case 4:r="warning";break;case 5:r="info"}var n;n={place:e,message:Object(T.jsx)("div",{children:Object(T.jsx)("div",{children:t})}),type:r,icon:"nc-icon nc-bell-55",autoDismiss:7},c.current.notificationAlert(n)};function o(e){return i.apply(this,arguments)}function i(){return(i=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.abrupt("return",fetch(" http://203.94.76.62:5100/login",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(t.username+":"+t.password)}}).then((function(e){return e.json()})).catch((function(e){return console.log("bc","Invalid Login : "+String(e),3)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var l=Object(r.useState)(),j=Object(d.a)(l,2),u=j[0],b=j[1],p=Object(r.useState)(),h=Object(d.a)(p,2),m=h[0],S=h[1],N=function(){var e=Object(x.a)(O.a.mark((function e(r){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),console.log(u,m),u&&m){e.next=5;break}return s("bc","Empty fields not allowed",3),e.abrupt("return");case 5:return e.next=7,o({username:u,password:m});case 7:(n=e.sent)?(n.data.length>0?(console.log(n.data[0].username),localStorage.setItem("data",JSON.stringify(n.data[0])),a(n.data[0].username)):a(u),s("bc","Successfully logged in as : "+u,2),t(n.token)):(console.log("error"),s("bc","Invalid Login Credentials",3));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("div",{className:"content",style:{margin:"10% 0"},children:[Object(T.jsx)(D.a,{ref:c}),Object(T.jsx)(f.a,{style:{alignContent:"center"},children:Object(T.jsx)(g.a,{md:{size:4,order:2,offset:4},children:Object(T.jsxs)(v.a,{className:"demo-icons",children:[Object(T.jsx)(C.a,{children:Object(T.jsx)(y.a,{tag:"h5",children:"Login"})}),Object(T.jsx)(w.a,{className:"all-icons",children:Object(T.jsx)("div",{class:"row",children:Object(T.jsxs)("div",{class:"col-md-12",children:[Object(T.jsxs)("div",{class:"form-group",children:[Object(T.jsx)("label",{for:"exampleForm.ControlInput1",class:"form-label",children:"Username"}),Object(T.jsx)("input",{placeholder:"Username",onChange:function(e){return b(e.target.value)},type:"text",id:"exampleForm.ControlInput1",class:"form-control"})]}),Object(T.jsxs)("div",{class:"form-group",children:[Object(T.jsx)("label",{for:"exampleForm.ControlInput1",class:"form-label",children:"Password"}),Object(T.jsx)("input",{placeholder:"Password",onChange:function(e){return S(e.target.value)},type:"password",id:"exampleForm.ControlInput1",class:"form-control"})]}),Object(T.jsx)("div",{class:"form-group",children:Object(T.jsx)("button",{type:"button",onClick:N,class:"btn btn-primary",children:"Submit"})})]})})})]})})})]})})};var q=function(){var e=function(){var e=Object(r.useState)(function(){var e=localStorage.getItem("user");return JSON.parse(e)}()),t=Object(d.a)(e,2),a=t[0],n=t[1];return{setUser:function(e){localStorage.setItem("user",JSON.stringify(e)),n(e)},user:a}}(),t=e.user,a=e.setUser,n=function(){var e=Object(r.useState)(function(){var e=localStorage.getItem("token");return JSON.parse(e)}()),t=Object(d.a)(e,2),a=t[0],n=t[1];return{setToken:function(e){localStorage.setItem("token",JSON.stringify(e)),n(e)},token:a}}(),c=n.token,s=n.setToken;return c?Object(T.jsx)(i.a,{children:Object(T.jsxs)(l.d,{children:[Object(T.jsx)(l.b,{path:"/admin",render:function(e){return Object(T.jsx)(X,Object(o.a)({user:t},e))}}),"admin"==t||"admin_dash"==t?Object(T.jsx)(l.a,{to:"/admin/dashboard"}):Object(T.jsx)(l.a,{to:"/admin/update"})]})}):Object(T.jsx)(Z,{setToken:s,setUser:a})};s.a.render(Object(T.jsx)(q,{}),document.getElementById("root"))}},[[282,1,2]]]);
//# sourceMappingURL=main.6bb10a6a.chunk.js.map